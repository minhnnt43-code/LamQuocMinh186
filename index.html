<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω C√¥ng Vi·ªác & Th·ªùi Gian - ·ª®ng D·ª•ng C√° Nh√¢n Hi·ªáu Qu·∫£</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="·ª®ng d·ª•ng qu·∫£n l√Ω c√¥ng vi·ªác, th·ªùi gian v√† m·ª•c ti√™u c√° nh√¢n hi·ªáu qu·∫£. Theo d√µi ti·∫øn ƒë·ªô, ƒë·∫∑t deadline, v√† ƒë·∫°t ƒë∆∞·ª£c m·ª•c ti√™u c·ªßa b·∫°n m·ªôt c√°ch c√≥ t·ªï ch·ª©c.">
    <meta name="keywords" content="qu·∫£n l√Ω c√¥ng vi·ªác, qu·∫£n l√Ω th·ªùi gian, l·ªãch, calendar, todo list, m·ª•c ti√™u c√° nh√¢n, productivity, task management, th√≥i quen, dashboard, b√°o c√°o, dark mode, recurring tasks, task prioritization, color customization, personal info, pomodoro, project management, goals">
    <meta name="author" content="L√¢m Qu·ªëc Minh">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Qu·∫£n L√Ω C√¥ng Vi·ªác & Th·ªùi Gian - ·ª®ng D·ª•ng C√° Nh√¢n">
    <meta property="og:description" content="·ª®ng d·ª•ng qu·∫£n l√Ω c√¥ng vi·ªác, th·ªùi gian v√† m·ª•c ti√™u c√° nh√¢n hi·ªáu qu·∫£.">
    <meta property="og:type" content="website">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjMDA1Qjk2Ii8+Cjx0ZXh0IHg9IjE2IiB5PSIyMCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4IiBmb250LWdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaGyPSJtaWRkbGUiPkM8L3RleHQ+Cjwvc3ZnPg==">
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' blob:; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob: https:; connect-src 'self' https://nominatim.openstreetmap.org;">
    
    <!-- T√≠ch h·ª£p Fonts t·ª´ Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- SortableJS for Draggable Dashboard -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="default" data-font="default">
    <div id="login-container">
        <div class="login-box">
            <h2>ƒêƒÉng Nh·∫≠p</h2>
            <p id="login-error">T√™n ƒëƒÉng nh·∫≠p ho·∫∑c m·∫≠t kh·∫©u kh√¥ng ƒë√∫ng!</p>
            <div class="form-group"><label for="username">T√™n ƒëƒÉng nh·∫≠p</label><input type="text" id="username" value="lamquocminh" aria-describedby="username-help" autocomplete="username"></div>
            <div class="form-group"><label for="password">M·∫≠t kh·∫©u</label><input type="password" id="password" value="lamquocminh" aria-describedby="password-help" autocomplete="current-password"></div>
            <button class="btn-submit" onclick="handleLogin()" aria-label="ƒêƒÉng nh·∫≠p v√†o h·ªá th·ªëng">ƒêƒÉng Nh·∫≠p</button>
        </div>
    </div>
    
    <div id="loading-spinner" class="loading-spinner" style="display: none;">
        <div class="spinner"></div>
        <div class="loading-text">ƒêang t·∫£i ·ª©ng d·ª•ng...</div>
    </div>
    
    <div id="app-container" style="display: none;">
        <aside class="sidebar">
            <div class="sidebar-header">
                <img id="sidebar-profile-pic" class="profile-picture" src="https://placehold.co/80x80/FFFFFF/005B96?text=User" alt="·∫¢nh ƒë·∫°i di·ªán">
                <div class="welcome-message">Xin ch√†o, <strong id="sidebar-user-name">L√¢m Qu·ªëc Minh</strong> ch√∫c b·∫°n m·ªôt ng√†y vui v·∫ª!</div>
            </div>
            <div class="info-widget">
                <div id="current-time">--:--:--</div>
                <div id="current-date">--/--/----</div>
                <div id="current-location">ƒêang x√°c ƒë·ªãnh v·ªã tr√≠...</div>
            </div>

            <!-- START: Global Search -->
            <div class="global-search-wrapper">
                <input type="search" id="global-search-input" placeholder="üîç T√¨m ki·∫øm m·ªçi th·ª©...">
            </div>
            <!-- END: Global Search -->
            
            <ul class="nav-menu" role="navigation" aria-label="Menu ch√≠nh">
                <li>
                    <button class="nav-btn active" onclick="showSection('dashboard', this)">T·ªïng quan</button>
                </li>
                <li class="nav-group">
                    <button class="nav-group-toggle">Kh√¥ng gian l√†m vi·ªác</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" onclick="showSection('tasks', this)">Qu·∫£n l√Ω c√¥ng vi·ªác</button></li>
                        <li><button class="nav-btn" onclick="showSection('projects', this)">D·ª± √°n</button></li>
                        <li><button class="nav-btn" onclick="showSection('time-management', this)">Qu·∫£n l√Ω th·ªùi gian</button></li>
                    </ul>
                </li>
                <li class="nav-group">
                    <button class="nav-group-toggle">Ph√°t tri·ªÉn c√° nh√¢n</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" onclick="showSection('goals', this)">M·ª•c ti√™u</button></li>
                        <li><button class="nav-btn" onclick="showSection('habit-tracker', this)">Theo d√µi th√≥i quen</button></li>
                        <li><button class="nav-btn" onclick="showSection('focus-mode', this)">Ch·∫ø ƒë·ªô t·∫≠p trung</button></li>
                        <li><button class="nav-btn" onclick="showSection('achievements', this)">Th√†nh t√≠ch</button></li>
                    </ul>
                </li>
                <li class="nav-group">
                    <button class="nav-group-toggle">M·ª•c ti√™u Sinh vi√™n 5 t·ªët</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" onclick="showSection('student-journey', this)">H√†nh tr√¨nh SV5T</button></li>
                        <li><button class="nav-btn" onclick="showSection('proofs-management', this)">Qu·∫£n l√Ω Minh ch·ª©ng</button></li>
                    </ul>
                </li>
                <li class="nav-group">
                    <button class="nav-group-toggle">H·ªá th·ªëng</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" onclick="showSection('personal-info', this)">H·ªì s∆° c√° nh√¢n</button></li>
                        <li><button class="nav-btn" onclick="showSection('statistics', this)">Th·ªëng k√™ & B√°o c√°o</button></li>
                        <li><button class="nav-btn" onclick="showSection('settings', this)">C√†i ƒë·∫∑t</button></li>
                    </ul>
                </li>
            </ul>

            <div class="sidebar-footer">
                <div class="data-actions">
                    <button class="import-btn" onclick="importDataFromFile()">Nh·∫≠p D·ªØ Li·ªáu</button>
                    <button class="export-btn" onclick="exportDataToFile()">Xu·∫•t D·ªØ Li·ªáu</button>
                </div>
                <button class="logout-btn" onclick="handleLogout()">ƒêƒÉng xu·∫•t</button>
            </div>
        </aside>

        <main class="main-content">
            <section id="dashboard" class="content-section active">
                <h1>T·ªïng quan</h1>
                <div id="dashboard-grid">
                    <div class="dashboard-card">
                        <ul class="dashboard-list" id="dashboard-today-tasks"></ul>
                        <h3>C√¥ng vi·ªác h√¥m nay</h3>
                        <p class="empty-state" id="dashboard-today-tasks-empty" style="display: none;">Kh√¥ng c√≥ c√¥ng vi·ªác n√†o h√¥m nay.</p>
                    </div>
                    <div class="dashboard-card">
                        <ul class="dashboard-list" id="dashboard-upcoming-events"></ul>
                        <h3>S·ª± ki·ªán s·∫Øp t·ªõi</h3>
                        <p class="empty-state" id="dashboard-upcoming-events-empty" style="display: none;">Kh√¥ng c√≥ s·ª± ki·ªán n√†o s·∫Øp t·ªõi.</p>
                    </div>
                    <div class="dashboard-card">
                        <ul class="dashboard-list" id="dashboard-habits"></ul>
                        <h3>Th√≥i quen h√†ng ng√†y</h3>
                        <p class="empty-state" id="dashboard-habits-empty" style="display: none;">Ch∆∞a c√≥ th√≥i quen n√†o ƒë∆∞·ª£c thi·∫øt l·∫≠p.</p>
                    </div>
                    <div class="dashboard-card">
                        <ul class="dashboard-list" id="dashboard-recent-achievements"></ul>
                        <h3>Th√†nh t√≠ch g·∫ßn ƒë√¢y</h3>
                        <p class="empty-state" id="dashboard-recent-achievements-empty" style="display: none;">Ch∆∞a c√≥ th√†nh t√≠ch n√†o.</p>
                    </div>
                </div>
            </section>

            <section id="personal-info" class="content-section">
                <h1>H·ªì s∆° c√° nh√¢n</h1>
                <div class="personal-info-card">
                    <h2>Th√¥ng tin c·ªßa b·∫°n</h2>
                    <dl class="personal-info-detail" id="personal-info-display">
                        <dt>T√™n ƒë·∫ßy ƒë·ªß:</dt><dd id="pi-full-name">Ch∆∞a c√≥</dd>
                        <dt>Ng√†y sinh:</dt><dd id="pi-dob">Ch∆∞a c√≥</dd>
                        <dt>Email:</dt><dd id="pi-email">Ch∆∞a c√≥</dd>
                        <dt>ƒêi·ªán tho·∫°i:</dt><dd id="pi-phone">Ch∆∞a c√≥</dd>
                        <dt>Ngh·ªÅ nghi·ªáp:</dt><dd id="pi-occupation">Ch∆∞a c√≥</dd>
                        <dt>M·∫°ng x√£ h·ªôi:</dt><dd id="pi-social">Ch∆∞a c√≥</dd>
                    </dl>
                    <button class="btn-submit personal-info-edit-button" onclick="openEditModal('personal-info')">Ch·ªânh s·ª≠a th√¥ng tin</button>
                </div>
            </section>
            
            <section id="goals" class="content-section">
                <h1>Qu·∫£n l√Ω M·ª•c ti√™u</h1>
                <div class="achievements-header">
                    <p style="color: var(--text-color-secondary); margin-bottom: 0;">ƒê·∫∑t ra c√°c m·ª•c ti√™u d√†i h·∫°n v√† li√™n k·∫øt ch√∫ng v·ªõi c√°c c√¥ng vi·ªác h√†ng ng√†y.</p>
                    <button class="btn-submit" onclick="openGoalModal()">Th√™m M·ª•c ti√™u m·ªõi +</button>
                </div>
                <div id="goal-list-container"></div>
                <p class="empty-state" id="goal-list-empty" style="display: none; text-align: center; padding: 2rem;">Ch∆∞a c√≥ m·ª•c ti√™u n√†o. H√£y nh·∫•n "Th√™m M·ª•c ti√™u m·ªõi" ƒë·ªÉ b·∫Øt ƒë·∫ßu!</p>
            </section>

            <section id="tasks" class="content-section">
                <h1>Qu·∫£n l√Ω c√¥ng vi·ªác</h1>
                <div class="task-ticker-container">
                    <p class="task-ticker"></p>
                </div>
                <div class="form-container">
                    <div class="form-grid">
                        <div class="form-group" style="grid-column: 1 / -1;"><label for="task-name">T√™n c√¥ng vi·ªác</label><input type="text" id="task-name" placeholder="Nh·∫≠p t√™n c√¥ng vi·ªác..."><p class="inline-error" id="task-name-error"></p></div>
                        <div class="form-group"><label for="task-priority">∆Øu ti√™n</label><select id="task-priority"><option value="low">Th·∫•p</option><option value="medium" selected>Trung b√¨nh</option><option value="high">Cao</option></select></div>
                        <div class="form-group"><label for="task-category">Ph√¢n lo·∫°i</label><select id="task-category"></select></div>
                        <div class="form-group"><label for="task-due-date">H·∫°n ch√≥t</label><input type="date" id="task-due-date"></div>
                        <div class="form-group"><label for="task-status">Ti·∫øn ƒë·ªô</label><select id="task-status"></select></div>
                        <div class="form-group"><label for="task-recurrence">L·∫∑p l·∫°i</label><select id="task-recurrence"><option value="none">Kh√¥ng</option><option value="daily">H√†ng ng√†y</option><option value="weekly">H√†ng tu·∫ßn</option><option value="monthly">H√†ng th√°ng</option></select></div>
                        <div class="form-group"><label for="task-project">D·ª± √°n</label><select id="task-project"><option value="">Kh√¥ng c√≥</option></select></div>
                        <div class="form-group"><label for="task-goal">M·ª•c ti√™u</label><select id="task-goal"><option value="">Kh√¥ng c√≥</option></select></div>
                        <div class="form-group"><label for="task-link">ƒê√≠nh k√®m</label><input type="text" id="task-link" placeholder="https://..."></div>
                        <div class="form-group" style="grid-column: 1 / -1;"><label for="task-tags">Th·∫ª (c√°ch nhau b·ªüi d·∫•u ph·∫©y)</label><input type="text" id="task-tags" placeholder="v√≠ d·ª•: h·ªçc t·∫≠p, quan tr·ªçng"></div>
                        <div class="form-group" style="grid-column: 1 / -1;"><label for="task-notes">Ghi ch√∫</label><textarea id="task-notes" placeholder="Th√™m ghi ch√∫ chi ti·∫øt..."></textarea></div>
                    </div>
                    <button id="add-task-btn" class="btn-submit" onclick="addTask()"><div class="btn-spinner"></div><span class="btn-text">Th√™m c√¥ng vi·ªác</span></button>
                </div>
                <div class="list-container" id="task-list"></div>
            </section>

            <section id="projects" class="content-section">
                <h1>Qu·∫£n l√Ω D·ª± √°n</h1>
                <div class="achievements-header">
                    <p style="color: var(--text-color-secondary); margin-bottom: 0;">Qu·∫£n l√Ω c√°c d·ª± √°n c·ªßa b·∫°n v√† theo d√µi ti·∫øn ƒë·ªô.</p>
                    <button class="btn-submit" onclick="openProjectModal()">Th√™m D·ª± √°n m·ªõi +</button>
                </div>
                <div id="project-list-container"></div>
                <p class="empty-state" id="project-list-empty" style="display: none; text-align: center; padding: 2rem;">Ch∆∞a c√≥ d·ª± √°n n√†o. H√£y nh·∫•n "Th√™m D·ª± √°n m·ªõi" ƒë·ªÉ b·∫Øt ƒë·∫ßu!</p>
            </section>

            <section id="habit-tracker" class="content-section">
                <h1>Theo d√µi Th√≥i quen</h1>
                <p style="margin-bottom: 1.5rem; color: var(--text-color-secondary);">X√¢y d·ª±ng v√† duy tr√¨ c√°c th√≥i quen t·ªët h√†ng ng√†y c·ªßa b·∫°n. ƒê√°nh d·∫•u ƒë√£ ho√†n th√†nh ƒë·ªÉ theo d√µi ti·∫øn ƒë·ªô!</p>
                <div id="habit-list-container"></div>
                <p class="empty-state" id="habit-list-empty" style="display: none; text-align: center; padding: 2rem;">Ch∆∞a c√≥ th√≥i quen n√†o. H√£y th√™m th√≥i quen m·ªõi trong m·ª•c "C√†i ƒë·∫∑t".</p>
            </section>

            <section id="focus-mode" class="content-section">
                <div id="focus-mode-section">
                    <h1>Ch·∫ø ƒë·ªô t·∫≠p trung</h1>
                    <p style="font-size: 1.2rem; margin-bottom: 1rem;">Th·ªùi gian t·∫≠p trung c√≤n l·∫°i:</p>
                    <div id="pomodoro-timer">25:00</div>
                    <div class="focus-control-buttons">
                        <button id="pomodoro-start-btn">B·∫Øt ƒë·∫ßu</button>
                        <button id="pomodoro-pause-btn" style="display: none;">T·∫°m d·ª´ng</button>
                        <button id="pomodoro-reset-btn">ƒê·∫∑t l·∫°i</button>
                    </div>
                    <div class="focus-mode-settings">
                        <h3>C√†i ƒë·∫∑t th·ªùi gian</h3>
                        <div class="form-grid">
                            <div class="form-group"><label for="focus-duration">Th·ªùi gian l√†m vi·ªác (ph√∫t)</label><input type="number" id="focus-duration" value="25" min="1"></div>
                            <div class="form-group"><label for="break-duration">Th·ªùi gian ngh·ªâ (ph√∫t)</label><input type="number" id="break-duration" value="5" min="1"></div>
                        </div>
                        <p style="font-size: 0.9rem; margin-top: 1rem; color: var(--focus-mode-fg);">L∆∞u √Ω: B·∫°n c√≥ th·ªÉ b·∫≠t th√¥ng b√°o tr√¨nh duy·ªát trong m·ª•c C√†i ƒë·∫∑t ƒë·ªÉ nh·∫≠n nh·∫Øc nh·ªü.</p>
                    </div>
                </div>
            </section>

            <section id="time-management" class="content-section">
                <div id="calendar-section-container">
                    <div class="calendar-header">
                        <div class="calendar-header-controls">
                            <button id="prev-btn" aria-label="Tr∆∞·ªõc ƒë√≥">&lt;</button>
                            <h2 id="current-view-range"></h2>
                            <button id="next-btn" aria-label="Ti·∫øp theo">&gt;</button>
                            <div class="calendar-view-toggle">
                                <button id="view-week-btn" class="active">Tu·∫ßn</button>
                                <button id="view-month-btn">Th√°ng</button>
                            </div>
                        </div>
                    </div>
                    <div id="week-view-container" class="calendar-grid-container active-view">
                        <table class="calendar-table">
                            <thead><tr><th class="time-col">Gi·ªù</th></tr></thead>
                            <tbody id="calendar-body"></tbody>
                        </table>
                        <div id="current-time-indicator" class="current-time-indicator"></div>
                    </div>
                    <div id="month-view-container" class="calendar-grid-container" style="display: none;">
                        <div id="month-calendar-grid"></div>
                    </div>
                </div>
            </section>
            
            <section id="student-journey" class="content-section">
                <h1>H√†nh tr√¨nh Sinh vi√™n 5 t·ªët</h1>
                <div id="sv5t-board-container"></div>
            </section>
            
            <section id="achievements" class="content-section">
                <div class="achievements-header">
                    <h1>Th√†nh t√≠ch c·ªßa t√¥i</h1>
                    <button class="btn-submit" onclick="openAchievementModal()">Th√™m M·ªõi +</button>
                </div>
                <div id="achievements-grid"></div>
            </section>

            <section id="proofs-management" class="content-section">
                <h1>Qu·∫£n l√Ω Minh ch·ª©ng</h1>
                <div id="proof-management-toolbar">
                    <input type="search" id="proof-search" placeholder="T√¨m ki·∫øm theo t√™n minh ch·ª©ng...">
                </div>
                <div class="proof-table-container">
                    <table class="proof-table">
                        <thead><tr><th>T√™n Minh ch·ª©ng</th><th>Ti√™u ch√≠ li√™n quan</th><th>Dung l∆∞·ª£ng</th><th>H√†nh ƒë·ªông</th></tr></thead>
                        <tbody id="proof-list-body"></tbody>
                    </table>
                </div>
            </section>

            <section id="statistics" class="content-section">
                <h1>Th·ªëng k√™ & B√°o c√°o</h1>
                <p style="margin-bottom: 2rem; color: var(--text-color-secondary);">Xem t·ªïng quan v·ªÅ nƒÉng su·∫•t v√† ti·∫øn ƒë·ªô c·ªßa b·∫°n.</p>
                <div id="statistics-overview">
                    <div class="stat-card"><h3>C√¥ng vi·ªác ho√†n th√†nh</h3><p class="value" id="stat-tasks-completed">0</p></div>
                    <div class="stat-card"><h3>Th√≥i quen ƒë√£ duy tr√¨</h3><p class="value" id="stat-habits-maintained">0</p></div>
                    <div class="stat-card"><h3>S·ªë s·ª± ki·ªán</h3><p class="value" id="stat-total-events">0</p></div>
                </div>
                <div style="text-align: center; margin-bottom: 2rem;">
                    <button class="btn-submit" id="generate-report-btn">T·∫°o B√°o c√°o Tu·∫ßn</button>
                </div>
                <div class="chart-container">
                    <h3>T·ª∑ l·ªá ho√†n th√†nh c√¥ng vi·ªác</h3>
                    <div class="progress-bar-stack" id="task-completion-chart"></div>
                    <div class="progress-legend" id="task-completion-legend"></div>
                </div>
                <div class="chart-container">
                    <h3>Ph√¢n b·ªï c√¥ng vi·ªác theo lo·∫°i</h3>
                    <div class="category-chart-bars" id="task-category-chart"></div>
                </div>
                <div class="chart-container">
                    <h3>Th√≥i quen ƒë√£ ho√†n th√†nh h√¥m nay</h3>
                    <div class="progress-bar-stack" id="habit-completion-chart"></div>
                    <div class="progress-legend" id="habit-completion-legend"></div>
                </div>
            </section>
            
            <section id="settings" class="content-section">
                <h1>C√†i ƒë·∫∑t T√πy ch·ªânh</h1>
                <p style="margin-bottom: 2rem; color: var(--text-color-secondary);">T·∫°i ƒë√¢y, b·∫°n c√≥ th·ªÉ t√πy ch·ªânh c√°c l·ª±a ch·ªçn, th√¥ng tin c√° nh√¢n v√† qu·∫£n l√Ω d·ªØ li·ªáu.</p>
                <div class="settings-grid">
                     <div class="settings-card" id="profile-picture-settings">
                        <h3>Th√¥ng tin c√° nh√¢n & ·∫¢nh ƒë·∫°i di·ªán</h3>
                        <div class="profile-picture-controls">
                            <img id="profile-pic-preview" class="profile-picture-preview" src="https://placehold.co/100x100/E9ECEF/6C757D?text=Avatar" alt="Xem tr∆∞·ªõc ·∫£nh">
                            <div>
                                <button class="btn-submit" style="padding: 0.5rem 1rem; margin-bottom: 0.5rem;" onclick="document.getElementById('profile-pic-input').click()">Ch·ªçn ·∫£nh m·ªõi</button>
                                <button class="btn-submit" style="padding: 0.5rem 1rem; background-color: var(--danger-color);" onclick="removeAvatar()">X√≥a ·∫£nh</button>
                                <p style="font-size: 0.85rem; color: var(--text-color-secondary); margin-top: 0.5rem;">Ch·ªçn ·∫£nh t·ª´ m√°y t√≠nh c·ªßa b·∫°n.</p>
                            </div>
                        </div>
                    </div>
                    <div class="settings-card" id="color-settings">
                        <h3>T√πy ch·ªânh m√†u s·∫Øc</h3>
                        <div class="color-picker-group"><label for="primary-blue-color-picker">M√†u ch√≠nh (Xanh)</label><input type="color" id="primary-blue-color-picker" value="#005B96"></div>
                        <div class="color-picker-group"><label for="primary-orange-color-picker">M√†u nh·∫•n (Cam)</label><input type="color" id="primary-orange-color-picker" value="#FF7A00"></div>
                        <button class="btn-submit" style="padding: 0.8rem;" onclick="resetColors()">Kh√¥i ph·ª•c m·∫∑c ƒë·ªãnh</button>
                    </div>
                    <div class="settings-card" id="display-settings">
                        <h3>Ch·∫ø ƒë·ªô hi·ªÉn th·ªã</h3>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label for="dark-mode-toggle" style="margin-bottom: 0;">Ch·∫ø ƒë·ªô t·ªëi (Dark Mode)</label>
                            <label class="toggle-switch"><input type="checkbox" id="dark-mode-toggle"><span class="slider"></span></label>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1.5rem;">
                            <label for="notification-toggle" style="margin-bottom: 0;">Th√¥ng b√°o tr√¨nh duy·ªát</label>
                            <label class="toggle-switch"><input type="checkbox" id="notification-toggle"><span class="slider"></span></label>
                        </div>
                        <div style="margin-top: 1.5rem;">
                            <label for="theme-select" style="display: block; margin-bottom: 0.5rem;">Ch·ªß ƒë·ªÅ m√†u s·∫Øc</label>
                            <select id="theme-select" class="settings-input-group" style="width: 100%; padding: 0.8rem;">
                                <option value="default">M·∫∑c ƒë·ªãnh (Xanh & Cam)</option>
                                <option value="ocean">ƒê·∫°i d∆∞∆°ng (Ocean)</option>
                                <option value="forest">R·ª´ng xanh (Forest)</option>
                            </select>
                        </div>
                        <div style="margin-top: 1.5rem;">
                            <label for="font-select" style="display: block; margin-bottom: 0.5rem;">Font ch·ªØ</label>
                            <select id="font-select" class="settings-input-group" style="width: 100%; padding: 0.8rem;">
                                <option value="default">M·∫∑c ƒë·ªãnh (UTM Avo)</option>
                                <option value="roboto">Roboto</option>
                            </select>
                        </div>
                    </div>
                    <div class="settings-card" id="categories-settings">
                        <h3>Ph√¢n lo·∫°i C√¥ng vi·ªác</h3>
                        <div class="settings-input-group"><input type="text" id="new-category" placeholder="T√™n lo·∫°i m·ªõi..."><button class="btn-submit" style="padding: 0.8rem;" onclick="addSettingItem('categories', 'new-category')">Th√™m</button></div>
                        <ul class="settings-list" id="categories-list"></ul>
                    </div>
                    <div class="settings-card" id="statuses-settings">
                        <h3>Tr·∫°ng th√°i Ti·∫øn ƒë·ªô</h3>
                        <div class="settings-input-group"><input type="text" id="new-status" placeholder="T√™n tr·∫°ng th√°i m·ªõi..."><button class="btn-submit" style="padding: 0.8rem;" onclick="addSettingItem('statuses', 'new-status')">Th√™m</button></div>
                        <ul class="settings-list" id="statuses-list"></ul>
                    </div>
                    <div class="settings-card" id="habit-settings">
                        <h3>Qu·∫£n l√Ω Th√≥i quen</h3>
                        <div class="settings-input-group"><input type="text" id="new-habit-name" placeholder="T√™n th√≥i quen m·ªõi..."><button class="btn-submit" style="padding: 0.8rem;" onclick="addHabitFromSettings()">Th√™m</button></div>
                        <ul class="settings-list" id="habit-settings-list"></ul>
                    </div>
                     <div class="settings-card" id="project-settings">
                        <h3>Qu·∫£n l√Ω D·ª± √°n</h3>
                        <div class="settings-input-group"><input type="text" id="new-project-name" placeholder="T√™n d·ª± √°n m·ªõi..."><button class="btn-submit" style="padding: 0.8rem;" onclick="addProjectFromSettings()">Th√™m</button></div>
                        <ul class="settings-list" id="project-settings-list"></ul>
                    </div>
                    <div class="settings-card" id="vacation-settings">
                        <h3>Ch·∫ø ƒë·ªô ngh·ªâ (Vacation Mode)</h3>
                        <p style="font-size: 0.9rem; color: var(--text-color-secondary); margin-bottom: 1rem;">T·∫°m d·ª´ng theo d√µi th√≥i quen m√† kh√¥ng l√†m m·∫•t chu·ªói (streak).</p>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <label for="vacation-mode-toggle" style="margin-bottom: 0;">B·∫≠t ch·∫ø ƒë·ªô ngh·ªâ</label>
                            <label class="toggle-switch"><input type="checkbox" id="vacation-mode-toggle"><span class="slider"></span></label>
                        </div>
                        <div class="form-group"><label for="vacation-start-date">Ng√†y b·∫Øt ƒë·∫ßu</label><input type="date" id="vacation-start-date"></div>
                        <div class="form-group"><label for="vacation-end-date">Ng√†y k·∫øt th√∫c</label><input type="date" id="vacation-end-date"></div>
                        <button class="btn-submit" style="padding: 0.8rem;" onclick="saveVacationModeSettings()">L∆∞u C√†i ƒë·∫∑t Ngh·ªâ</button>
                    </div>
                    <div class="settings-card" id="backup-settings">
                        <h3>Qu·∫£n l√Ω D·ªØ li·ªáu</h3>
                         <h4>Sao l∆∞u & Ph·ª•c h·ªìi</h4>
                        <div class="backup-buttons">
                            <button class="btn-submit" style="background-color: var(--primary-blue);" onclick="exportDataToFile()">Xu·∫•t File Sao L∆∞u</button>
                            <button class="btn-submit" style="background-color: var(--success-color);" onclick="importDataFromFile()">Nh·∫≠p T·ª´ File</button>
                        </div>
                        <h4 style="margin-top: 1.5rem;">Thao t√°c Nguy hi·ªÉm</h4>
                        <button class="btn-submit" style="background-color: var(--danger-color);" onclick="clearAllData()">X√≥a To√†n B·ªô D·ªØ Li·ªáu</button>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Modals -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="modal-title">S·ª≠a</h2><button class="close-btn" onclick="closeModal()">&times;</button></div>
            <div class="modal-body" id="modal-body"></div>
        </div>
    </div>
    <div id="event-modal" class="modal">
         <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="event-modal-title">T·∫°o s·ª± ki·ªán</h2><button class="close-btn" onclick="closeEventModal()">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="event-id">
                <div class="form-group"><label for="event-title">Ti√™u ƒë·ªÅ</label><input type="text" id="event-title"></div>
                <div class="form-group"><label for="event-task-link">Li√™n k·∫øt c√¥ng vi·ªác</label><select id="event-task-link"><option value="">Kh√¥ng c√≥</option></select></div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
                    <div class="form-group"><label for="event-date">Ng√†y</label><input type="date" id="event-date"></div>
                    <div class="form-group"><label for="event-start-time">B·∫Øt ƒë·∫ßu</label><input type="time" id="event-start-time" step="1800"></div>
                    <div class="form-group"><label for="event-end-time">K·∫øt th√∫c</label><input type="time" id="event-end-time" step="1800"></div>
                </div>
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1rem;">
                    <button id="delete-event-btn" class="btn-submit" style="background-color: var(--danger-color); display: none;" onclick="deleteCalendarEvent()">X√≥a</button>
                    <button class="btn-submit" onclick="saveCalendarEvent()">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>
    <div id="achievement-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="achievement-modal-title">Th√™m th√†nh t√≠ch</h2><button class="close-btn" onclick="closeAchievementModal()">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="achievement-id">
                <div class="form-group"><label for="achievement-title">T√™n th√†nh t√≠ch</label><input type="text" id="achievement-title" placeholder="VD: Sinh vi√™n 5 t·ªët c·∫•p Tr∆∞·ªùng..."></div>
                <div class="form-group"><label for="achievement-date">Ng√†y c·∫•p</label><input type="date" id="achievement-date"></div>
                <div class="form-group"><label for="achievement-description">M√¥ t·∫£ (t√πy ch·ªçn)</label><textarea id="achievement-description" placeholder="M√¥ t·∫£ ng·∫Øn v·ªÅ th√†nh t√≠ch..."></textarea></div>
                <div class="form-group"><label>T·ªáp ƒë√≠nh k√®m (·∫¢nh, PDF...)</label><button class="btn-submit" style="background-color: var(--dark-gray);" onclick="document.getElementById('achievement-file-input').click()">Ch·ªçn T·ªáp</button><p id="achievement-file-name" style="margin-top: 0.5rem; color: var(--text-color-secondary);"></p></div>
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;"><button id="delete-achievement-btn" class="btn-submit" style="background-color: var(--danger-color); display: none;">X√≥a</button><button class="btn-submit" onclick="saveAchievement()">L∆∞u</button></div>
            </div>
        </div>
    </div>
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="project-modal-title">Th√™m d·ª± √°n</h2><button class="close-btn" onclick="closeProjectModal()">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="project-id">
                <div class="form-group"><label for="project-name">T√™n d·ª± √°n</label><input type="text" id="project-name" placeholder="T√™n d·ª± √°n..."></div>
                <div class="form-group"><label for="project-description">M√¥ t·∫£ (t√πy ch·ªçn)</label><textarea id="project-description" placeholder="M√¥ t·∫£ ng·∫Øn v·ªÅ d·ª± √°n..."></textarea></div>
                <div class="form-group"><label for="project-start-date">Ng√†y b·∫Øt ƒë·∫ßu</label><input type="date" id="project-start-date"></div>
                <div class="form-group"><label for="project-end-date">Ng√†y k·∫øt th√∫c d·ª± ki·∫øn</label><input type="date" id="project-end-date"></div>
                <h3 style="margin-top: 1.5rem; color: var(--primary-blue);">C√¥ng vi·ªác c·ªßa d·ª± √°n</h3>
                <ul id="project-tasks-list" class="settings-list"></ul>
                <div class="settings-input-group"><select id="add-task-to-project-select"><option value="">Ch·ªçn c√¥ng vi·ªác ƒë·ªÉ th√™m...</option></select><button class="btn-submit" id="add-project-task-btn">Th√™m</button></div>
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;"><button id="delete-project-btn" class="btn-submit" style="background-color: var(--danger-color); display: none;">X√≥a</button><button class="btn-submit" onclick="saveProject()">L∆∞u</button></div>
            </div>
        </div>
    </div>
    <div id="confirm-modal" class="modal">
        <div class="modal-content" style="max-width: 450px;">
            <div class="modal-header"><h2 class="modal-title" id="confirm-modal-title">X√°c nh·∫≠n</h2><button class="close-btn" onclick="closeConfirmModal()">&times;</button></div>
            <div class="modal-body"><p id="confirm-modal-text"></p><div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;"><button class="btn-submit" style="background-color: var(--dark-gray);" onclick="closeConfirmModal()">H·ªßy</button><button class="btn-submit" style="background-color: var(--danger-color);" id="confirm-modal-btn">X√°c nh·∫≠n</button></div></div>
        </div>
    </div>

    <!-- NEW: Weekly Report Modal -->
    <div id="report-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="report-modal-title">B√°o c√°o tu·∫ßn</h2><button class="close-btn" onclick="closeReportModal()">&times;</button></div>
            <div class="modal-body" id="report-modal-body"></div>
        </div>
    </div>
    
    <!-- Global Search Modal -->
    <div id="search-results-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title">K·∫øt qu·∫£ t√¨m ki·∫øm</h2><button class="close-btn" id="close-search-modal-btn">&times;</button></div>
            <div class="modal-body" id="search-results-body"></div>
        </div>
    </div>

    <!-- Side Panel for SV5T Criteria -->
    <div id="sv5t-panel-overlay" class="sv5t-panel-overlay"></div>
    <div id="sv5t-side-panel" class="sv5t-side-panel">
        <div class="sv5t-panel-header"><h2 id="sv5t-panel-title"></h2><button id="sv5t-panel-close-btn">&times;</button></div>
        <div class="sv5t-panel-body" id="sv5t-panel-body"></div>
    </div>

    <!-- Hidden Inputs -->
    <input type="file" id="import-file-input" accept=".json" style="display: none;">
    <input type="file" id="profile-pic-input" accept="image/*" style="display: none;">
    <input type="file" id="proof-upload-input" accept=".png,.jpg,.jpeg,.pdf,.doc,.docx,.xls,.xlsx" style="display: none;">
    <input type="file" id="achievement-file-input" accept="image/*,.pdf" style="display: none;">

    <div id="notification-container"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

    <script src="script.js"></script>
</body>
</html>
