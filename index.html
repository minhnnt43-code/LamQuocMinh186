<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√¢m Qu·ªëc Minh - H·ªá Th·ªëng Qu·∫£n L√Ω</title>

    <!-- SEO & Open Graph -->
    <meta name="description" content="H·ªá th·ªëng qu·∫£n l√Ω c√° nh√¢n & Portfolio c·ªßa L√¢m Qu·ªëc Minh.">
    <meta property="og:title" content="L√¢m Qu·ªëc Minh - Dashboard">
    <meta property="og:image" content="https://placehold.co/600x400?text=LQM+System">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjMDA1Qjk2Ii8+Cjx0ZXh0IHg9IjE2IiB5PSIyMCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4IiBmb250LXNpemU9IjE4IiBmb250LXNpemU9IjE4IiBmb250LXNpemU9IjE4IiBmb250LXNpemU9IjE4IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+QzwvdGV4dD4KPC9zdmc+">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=UTM+Avo&display=swap" rel="stylesheet">

    <!-- Libs CSS -->
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.0/dist/quill.snow.css" rel="stylesheet" />

    <!-- CSS Ch√≠nh -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- 1. LOGIN SCREEN -->
    <div id="login-container">
        <div class="login-box">
            <div class="login-welcome-text">CH√öC B·∫†N M·ªòT NG√ÄY T·ªêT L√ÄNH</div>
            <h2>ƒêƒÉng nh·∫≠p h·ªá th·ªëng</h2>

            <div class="login-form-group">
                <label>Email</label>
                <input type="text" class="login-input" placeholder="admin@example.com">
            </div>
            <div class="login-form-group">
                <label>M·∫≠t kh·∫©u</label>
                <div class="password-wrapper">
                    <input type="password" class="login-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    <span class="eye-icon">üëÅÔ∏è</span>
                </div>
            </div>

            <button class="btn-login-submit">ƒêƒÉng nh·∫≠p</button>
            <div class="separator"><span>ho·∫∑c</span></div>

            <button id="btn-login-google" class="btn-google-custom">
                <svg width="18" height="18" viewBox="0 0 48 48"><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z" /><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z" /><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z" /><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z" /><path fill="none" d="M0 0h48v48H0z" /></svg>
                <span>Ti·∫øp t·ª•c v·ªõi Google</span>
            </button>
            <p id="login-error" style="color: red; margin-top: 10px; font-size: 0.9rem; display: none;"></p>
        </div>
    </div>

    <!-- 2. LOADING -->
    <div id="loading-spinner" class="loading-spinner" style="display: none;">
        <div class="spinner"></div>
        <div class="loading-text">ƒêang t·∫£i d·ªØ li·ªáu...</div>
    </div>

    <!-- 3. MAIN APP -->
    <div id="app-container" style="display: none;">

        <!-- HEADER MOBILE -->
        <div class="mobile-top-bar" style="display:none;">
            <button id="btn-toggle-sidebar" style="background:none; border:none; font-size:1.5rem;">‚ò∞</button>
            <span style="font-weight:bold; color:var(--primary-blue);">L√¢m Qu·ªëc Minh</span>
            <img id="mobile-avatar" src="https://placehold.co/40" style="width:35px; height:35px; border-radius:50%;">
        </div>
        <div id="mobile-menu-overlay"></div>

        <!-- SIDEBAR -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img id="sidebar-profile-pic" class="profile-picture" src="https://placehold.co/80" alt="Avatar">
                <div class="welcome-message">Xin ch√†o, <strong id="sidebar-user-name">Admin</strong></div>
            </div>
            
            <div class="info-widget">
                <div id="current-time" style="font-weight:bold; font-size: 1.2rem;">--:--:--</div>
                <div id="current-date" style="opacity:0.8; font-size:0.9rem;">--/--/----</div>
            </div>

            <ul class="nav-menu">
                <!-- N√∫t Dashboard -->
                <li><button class="nav-btn active" data-target="dashboard">üìä T·ªïng quan</button></li>
                
                <!-- M·ª§C M·ªöI: Y√äU C·∫¶U H·∫∏N -->
                <li>
                    <button class="nav-btn" data-target="appointment-requests">
                        üóìÔ∏è Y√™u c·∫ßu h·∫πn 
                        <span id="appt-badge" class="badge-count" style="background:red; color:white; padding:2px 6px; border-radius:10px; font-size:0.7rem; margin-left:5px; display:none;">0</span>
                    </button>
                </li>

                <li class="nav-group">
                    <button class="nav-group-toggle">üìÇ Kh√¥ng gian l√†m vi·ªác</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" data-target="tasks">C√¥ng vi·ªác (Tasks)</button></li>
                        <li><button class="nav-btn" data-target="todo-list">To-do List</button></li>
                        <li><button class="nav-btn" data-target="projects">D·ª± √°n</button></li>
                        <li><button class="nav-btn" data-target="time-management">L·ªãch bi·ªÉu</button></li>
                        <li><button class="nav-btn" data-target="drafts">B·∫£n Nh√°p</button></li>
                    </ul>
                </li>

                <li class="nav-group">
                    <button class="nav-group-toggle">‚ú® Qu·∫£n tr·ªã N·ªôi dung</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" id="nav-btn-timeline" data-target="manage-timeline">üö© Qu·∫£n l√Ω L·ªô tr√¨nh</button></li>
                        <li><button class="nav-btn" id="nav-btn-albums" data-target="manage-albums">üì∏ Qu·∫£n l√Ω Album</button></li>
                    </ul>
                </li>

                <li class="nav-group">
                    <button class="nav-group-toggle">üéì H·ªçc t·∫≠p & Ph√°t tri·ªÉn</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" data-target="focus-mode">Ch·∫ø ƒë·ªô t·∫≠p trung</button></li>
                        <!-- M·ª§C M·ªöI: B·∫¢NG ƒêI·ªÇM -->
                        <li><button class="nav-btn" data-target="academic-transcripts">üìö B·∫£ng ƒëi·ªÉm c√° nh√¢n</button></li>
                        <li><button class="nav-btn" data-target="achievements">Th√†nh t√≠ch</button></li>
                        <li><button class="nav-btn" data-target="student-journey">H√†nh tr√¨nh SV5T</button></li>
                        <li><button class="nav-btn" data-target="proofs-management">Qu·∫£n l√Ω Minh ch·ª©ng</button></li>
                    </ul>
                </li>

                <li class="nav-group">
                    <button class="nav-group-toggle">üîç Nghi√™n c·ª©u</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" data-target="digital-library">Th∆∞ vi·ªán S·ªë</button></li>
                        <li><button class="nav-btn" data-target="outline-composer">X√¢y d·ª±ng D√†n √Ω</button></li>
                    </ul>
                </li>

                <li class="nav-group">
                    <button class="nav-group-toggle">‚öôÔ∏è H·ªá th·ªëng</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" data-target="personal-info">H·ªì s∆° c√° nh√¢n</button></li>
                        <li><button class="nav-btn" data-target="statistics">Th·ªëng k√™</button></li>
                        <li><button class="nav-btn" data-target="settings">C√†i ƒë·∫∑t</button></li>
                    </ul>
                </li>
            </ul>

            <div class="sidebar-footer">
                <div class="data-actions">
                    <button class="import-btn" id="btn-import-data">üì• Nh·∫≠p</button>
                    <button class="export-btn" id="btn-export-data">üì§ Xu·∫•t</button>
                </div>
                <button class="logout-btn" id="btn-logout">ƒêƒÉng xu·∫•t</button>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">

            <!-- DASHBOARD -->
            <section id="dashboard" class="content-section active">
                <h1>T·ªïng quan</h1>
                <div id="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>H√¥m nay l√†m g√¨?</h3>
                        <ul class="dashboard-list" id="dashboard-today-tasks"></ul>
                        <p class="empty-state" id="dashboard-today-tasks-empty">Th·∫£nh th∆°i, kh√¥ng c√≥ vi·ªác.</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>S·∫Øp t·ªõi</h3>
                        <ul class="dashboard-list" id="dashboard-upcoming-events"></ul>
                        <p class="empty-state" id="dashboard-upcoming-events-empty">Kh√¥ng c√≥ s·ª± ki·ªán.</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>Vi·ªác v·∫∑t (To-do)</h3>
                        <ul class="dashboard-list" id="dashboard-todo-list"></ul>
                        <p class="empty-state" id="dashboard-todo-list-empty">Tr·ªëng.</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>Nh√°p m·ªõi</h3>
                        <ul class="dashboard-list" id="dashboard-recent-drafts"></ul>
                        <p class="empty-state" id="dashboard-recent-drafts-empty">Ch∆∞a c√≥ b·∫£n nh√°p.</p>
                    </div>
                </div>
            </section>

            <!-- SECTION M·ªöI: Y√äU C·∫¶U H·∫∏N (APPOINTMENT REQUESTS) -->
            <section id="appointment-requests" class="content-section">
                <h1>Qu·∫£n l√Ω Y√™u c·∫ßu h·∫πn</h1>
                <div class="task-controls">
                    <div class="task-filter-controls">
                        <button class="filter-btn active" onclick="filterAppointments('pending')">Ch·ªù duy·ªát</button>
                        <button class="filter-btn" onclick="filterAppointments('approved')">ƒê√£ duy·ªát</button>
                        <button class="filter-btn" onclick="filterAppointments('rejected')">ƒê√£ t·ª´ ch·ªëi</button>
                    </div>
                </div>
                <div id="appointment-list-container" class="list-container">
                    <p class="empty-state">ƒêang t·∫£i danh s√°ch h·∫πn...</p>
                </div>
            </section>

            <!-- SECTION M·ªöI: B·∫¢NG ƒêI·ªÇM (ACADEMIC TRANSCRIPTS) -->
            <section id="academic-transcripts" class="content-section">
                <h1>B·∫£ng ƒëi·ªÉm c√° nh√¢n</h1>
                
                <!-- Th·∫ª t√≥m t·∫Øt GPA -->
                <div id="gpa-summary-card" class="dashboard-card" style="margin-bottom: 20px; display:flex; justify-content:space-around; text-align:center;">
                    <div>
                        <div style="font-size:0.9rem; color:#666;">GPA T√≠ch l≈©y (H·ªá 4)</div>
                        <div id="gpa-accumulated" style="font-size:2rem; font-weight:bold; color:var(--primary-orange);">0.00</div>
                    </div>
                    <div>
                        <div style="font-size:0.9rem; color:#666;">GPA H·ªçc k·ª≥ (H·ªá 4)</div>
                        <div id="gpa-term" style="font-size:2rem; font-weight:bold; color:var(--primary-blue);">0.00</div>
                    </div>
                    <div>
                        <div style="font-size:0.9rem; color:#666;">T·ªïng t√≠n ch·ªâ</div>
                        <div id="total-credits" style="font-size:2rem; font-weight:bold;">0</div>
                    </div>
                </div>

                <!-- Form th√™m m√¥n h·ªçc -->
                <div class="form-container">
                    <h3>Nh·∫≠p ƒëi·ªÉm m√¥n h·ªçc</h3>
                    <input type="hidden" id="transcript-id">
                    <div class="form-grid">
                        <div class="form-group"><label>M√£ HP</label><input type="text" id="subject-code" placeholder="VD: KTL101"></div>
                        <div class="form-group"><label>T√™n h·ªçc ph·∫ßn</label><input type="text" id="subject-name" placeholder="VD: Kinh t·∫ø vi m√¥"></div>
                        <div class="form-group"><label>S·ªë t√≠n ch·ªâ</label><input type="number" id="subject-credits" value="3"></div>
                        <div class="form-group"><label>ƒêi·ªÉm h·ªá 10</label><input type="number" id="subject-score" step="0.1" placeholder="VD: 8.5"></div>
                        <div class="form-group"><label>H·ªçc k·ª≥</label><input type="text" id="subject-term" placeholder="VD: HK1 2023-2024"></div>
                        <div class="form-group">
                            <label>Lo·∫°i</label>
                            <select id="subject-type">
                                <option value="b·∫Øt bu·ªôc">B·∫Øt bu·ªôc</option>
                                <option value="t·ª± ch·ªçn">T·ª± ch·ªçn</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-top:10px; display:flex; gap:10px;">
                        <button id="btn-save-transcript" class="btn-submit">L∆∞u ƒëi·ªÉm</button>
                        <button id="btn-cancel-transcript" class="btn-submit" style="background:#666; display:none;">H·ªßy</button>
                    </div>
                </div>

                <!-- B·∫£ng danh s√°ch m√¥n h·ªçc -->
                <div class="proof-table-container">
                    <table class="proof-table" id="transcripts-table">
                        <thead>
                            <tr>
                                <th>M√£ HP</th>
                                <th>T√™n HP</th>
                                <th>TC</th>
                                <th>ƒêi·ªÉm (10)</th>
                                <th>ƒêi·ªÉm (4)</th>
                                <th>ƒêi·ªÉm Ch·ªØ</th>
                                <th>H√†nh ƒë·ªông</th>
                            </tr>
                        </thead>
                        <tbody id="transcripts-list-body"></tbody>
                    </table>
                </div>
            </section>

            <!-- SECTION: QU·∫¢N L√ù L·ªò TR√åNH (Timeline) -->
            <section id="manage-timeline" class="content-section">
                <h1>Qu·∫£n l√Ω L·ªô tr√¨nh (Timeline)</h1>
                <div class="form-container">
                    <input type="hidden" id="tl-edit-id">
                    <div class="form-grid">
                        <div class="form-group"><label>Th·ªùi gian</label><input type="text" id="tl-time" placeholder="VD: 2020 - 2024"></div>
                        <div class="form-group"><label>Ti√™u ƒë·ªÅ</label><input type="text" id="tl-title" placeholder="VD: ƒê·∫°i h·ªçc Kinh t·∫ø - Lu·∫≠t"></div>
                        <div class="form-group"><label>Vai tr√≤</label><input type="text" id="tl-role" placeholder="VD: Sinh vi√™n"></div>
                        <div class="form-group">
                            <label>Lo·∫°i h√¨nh</label>
                            <select id="tl-type">
                                <option value="academic">üü¶ H·ªçc t·∫≠p</option>
                                <option value="work">üüß C√¥ng vi·ªác</option>
                                <option value="activity">üü© Ho·∫°t ƒë·ªông</option>
                            </select>
                        </div>
                        <div class="form-group"><label>Logo (Link)</label><input type="text" id="tl-logo" placeholder="Link ·∫£nh..."></div>
                        <div class="form-group" style="grid-column:1/-1"><label>M√¥ t·∫£ chi ti·∫øt</label><textarea id="tl-desc"></textarea></div>
                    </div>
                    <div style="margin-top:10px; display:flex; gap:10px;">
                        <button id="btn-create-timeline" class="btn-submit">Th√™m M·ªëc L·ªô Tr√¨nh</button>
                        <button id="btn-cancel-timeline" class="btn-submit" style="background:#666; display:none;">H·ªßy</button>
                    </div>
                </div>
                <div id="admin-timeline-list" style="margin-top:20px;"></div>
                <p style="text-align:center; color:#666; margin-top:10px;">üí° M·∫πo: K√©o th·∫£ c√°c √¥ ƒë·ªÉ thay ƒë·ªïi th·ª© t·ª± hi·ªÉn th·ªã.</p>
            </section>

            <!-- SECTION: QU·∫¢N L√ù ALBUM -->
            <section id="manage-albums" class="content-section">
                <h1>Qu·∫£n l√Ω Album ·∫¢nh</h1>
                <div class="form-container">
                    <input type="hidden" id="album-edit-id">
                    <div class="form-grid">
                        <div class="form-group"><label>T√™n Album</label><input type="text" id="album-title" placeholder="VD: M√πa H√® Xanh 2024"></div>
                        <div class="form-group"><label>·∫¢nh b√¨a (Link)</label><input type="text" id="album-cover" placeholder="Link ·∫£nh..."></div>
                        
                        <!-- [M·ªöI] TH√äM NG√ÄY DI·ªÑN RA & ƒê·ªäA ƒêI·ªÇM -->
                        <div class="form-group"><label>Th·ªùi gian di·ªÖn ra</label><input type="date" id="album-date"></div>
                        <div class="form-group"><label>ƒê·ªãa ƒëi·ªÉm (Check-in)</label><input type="text" id="album-location" placeholder="VD: ƒê√† L·∫°t, L√¢m ƒê·ªìng"></div>

                        <div class="form-group" style="grid-column:1/-1"><label>M√¥ t·∫£ (C√¢u chuy·ªán)</label><textarea id="album-desc"></textarea></div>
                        <div class="form-group" style="grid-column:1/-1">
                            <label>Danh s√°ch link ·∫£nh (M·ªói d√≤ng 1 link)</label>
                            <textarea id="album-photos" style="height:150px; font-family:monospace;" placeholder="https://...&#10;https://..."></textarea>
                        </div>
                    </div>
                    <div style="margin-top:10px; display:flex; gap:10px;">
                        <button id="btn-create-album" class="btn-submit">T·∫°o Album M·ªõi</button>
                        <button id="btn-cancel-album" class="btn-submit" style="background:#666; display:none;">H·ªßy</button>
                    </div>
                </div>
                <div id="admin-album-list" style="display:grid; grid-template-columns:repeat(auto-fill, minmax(250px, 1fr)); gap:15px; margin-top:20px;"></div>
            </section>

            <!-- SECTION: H·ªí S∆† C√Å NH√ÇN -->
            <section id="personal-info" class="content-section">
                <h1>H·ªì s∆° c√° nh√¢n</h1>
                <div class="personal-info-card" style="max-width: 800px;">
                    <h2>1. Th√¥ng tin c∆° b·∫£n</h2>
                    <div class="form-grid">
                        <div class="form-group"><label>H·ªç v√† t√™n</label><input type="text" id="pi-fullname"></div>
                        <div class="form-group"><label>Email</label><input type="text" id="pi-email"></div>
                        <div class="form-group"><label>SƒêT</label><input type="text" id="pi-phone"></div>
                        <div class="form-group"><label>Ngh·ªÅ nghi·ªáp</label><input type="text" id="pi-occupation"></div>
                    </div>
                    <h2 style="margin-top:20px; border-top:1px dashed #ccc; padding-top:10px;">2. Hi·ªÉn th·ªã tr√™n Portfolio</h2>
                    <div class="form-grid">
                        <div class="form-group"><label>üéì Tr∆∞·ªùng h·ªçc</label><input type="text" id="pf-school"></div>
                        <div class="form-group"><label>‚≠ê Danh hi·ªáu</label><input type="text" id="pf-award"></div>
                        <div class="form-group"><label>üíº Vai tr√≤</label><input type="text" id="pf-role"></div>
                        <div class="form-group"><label>üìç ƒê·ªãa ƒëi·ªÉm</label><input type="text" id="pf-location"></div>
                    </div>
                    <button id="btn-save-profile" class="btn-submit" style="margin-top:20px; width:100%;">üíæ L∆∞u H·ªì S∆°</button>
                </div>
            </section>

            <!-- TASKS -->
            <section id="tasks" class="content-section">
                <h1>Qu·∫£n l√Ω c√¥ng vi·ªác</h1>
                <div class="quick-add-container">
                    <input type="text" id="quick-add-task-input" placeholder="Th√™m nhanh c√¥ng vi·ªác (Enter)...">
                </div>
                <div class="form-container">
                    <div class="form-grid">
                        <div class="form-group" style="grid-column:1/-1"><label>T√™n c√¥ng vi·ªác</label><input type="text" id="task-name"></div>
                        <div class="form-group"><label>∆Øu ti√™n</label><select id="task-priority"><option value="low">Th·∫•p</option><option value="medium" selected>Trung b√¨nh</option><option value="high">Cao</option></select></div>
                        <div class="form-group"><label>Ph√¢n lo·∫°i</label><select id="task-category"></select></div>
                        <div class="form-group"><label>H·∫°n ch√≥t</label><input type="date" id="task-due-date"></div>
                        <div class="form-group"><label>Ti·∫øn ƒë·ªô</label><select id="task-status"></select></div>
                        <div class="form-group"><label>L·∫∑p l·∫°i</label><select id="task-recurrence"><option value="none">Kh√¥ng</option><option value="daily">H√†ng ng√†y</option><option value="weekly">H√†ng tu·∫ßn</option><option value="monthly">H√†ng th√°ng</option></select></div>
                        <div class="form-group"><label>D·ª± √°n</label><select id="task-project"><option value="">Kh√¥ng</option></select></div>
                        <div class="form-group"><label>Link</label><input type="text" id="task-link"></div>
                        <div class="form-group" style="grid-column:1/-1"><label>Tags</label><input type="text" id="task-tags"></div>
                        <div class="form-group" style="grid-column:1/-1"><label>Ghi ch√∫</label><textarea id="task-notes"></textarea></div>
                    </div>
                    <button id="add-task-btn" class="btn-submit">Th√™m c√¥ng vi·ªác</button>
                </div>
                <div class="task-controls">
                    <div class="task-search-sort"><input type="search" id="task-search" placeholder="T√¨m..."><select id="task-sort"><option value="priority">S·∫Øp x·∫øp: ∆Øu ti√™n</option><option value="dueDate-asc">H·∫°n ch√≥t (g·∫ßn nh·∫•t)</option></select></div>
                    <div class="task-filter-controls"><button class="filter-btn active" data-filter="all">T·∫•t c·∫£</button><button class="filter-btn" data-filter="today">H√¥m nay</button><button class="filter-btn" data-filter="important">Quan tr·ªçng</button><button class="filter-btn" data-filter="incomplete">Ch∆∞a xong</button></div>
                </div>
                <div id="task-list" class="list-container"></div>
            </section>

            <!-- TODO LIST -->
            <section id="todo-list" class="content-section">
                <h1>To-do List</h1>
                <div class="form-container">
                    <div class="settings-input-group">
                        <input type="text" id="new-todo-input" placeholder="Vi·ªác c·∫ßn l√†m...">
                        <button class="btn-submit" id="btn-add-todo">Th√™m</button>
                    </div>
                </div>
                <div id="todo-list-container" class="list-container"></div>
            </section>

            <!-- DRAFTS -->
            <section id="drafts" class="content-section">
                <h1>B·∫£n Nh√°p</h1>
                <div class="composer-toolbar">
                    <input type="search" id="drafts-search" placeholder="T√¨m nh√°p...">
                    <button class="btn-submit" id="btn-create-draft">T·∫°o M·ªõi +</button>
                </div>
                <div class="composer-main-container">
                    <div id="drafts-list-column" class="outline-list-column"></div>
                    <div id="drafts-editor-column" class="outline-editor-column" style="padding:0">
                        <div id="drafts-editor-welcome"><p>Ch·ªçn b·∫£n nh√°p ƒë·ªÉ xem.</p></div>
                        <div id="drafts-editor-content" style="display:none; height:100%; flex-direction:column;">
                            <div class="draft-header">
                                <input type="text" id="draft-title-input" placeholder="Ti√™u ƒë·ªÅ...">
                                <span id="draft-status"></span>
                            </div>
                            <div id="editor-container" style="height:100%;"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PROJECTS -->
            <section id="projects" class="content-section">
                <div class="achievements-header">
                    <h1>D·ª± √°n</h1>
                    <button class="btn-submit" id="btn-open-project-modal">Th√™m D·ª± √°n +</button>
                </div>
                <div id="project-list-container"></div>
                <p class="empty-state" id="project-list-empty" style="display:none;">Tr·ªëng.</p>
            </section>

            <!-- FOCUS MODE -->
            <section id="focus-mode" class="content-section">
                <div id="focus-mode-section">
                    <h1>Ch·∫ø ƒë·ªô t·∫≠p trung</h1>
                    <div id="pomodoro-timer">25:00</div>
                    <div class="focus-control-buttons">
                        <button id="pomodoro-start-btn">B·∫Øt ƒë·∫ßu</button>
                        <button id="pomodoro-pause-btn" style="display:none;">T·∫°m d·ª´ng</button>
                        <button id="pomodoro-reset-btn">ƒê·∫∑t l·∫°i</button>
                    </div>
                    <div class="focus-mode-settings">
                        <div class="form-grid">
                            <div class="form-group"><label>Ph√∫t l√†m vi·ªác</label><input type="number" id="focus-duration" value="25"></div>
                            <div class="form-group"><label>Ph√∫t ngh·ªâ</label><input type="number" id="break-duration" value="5"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CALENDAR -->
            <section id="time-management" class="content-section">
                <div id="calendar-section-container">
                    <div class="calendar-header">
                        <div class="calendar-header-controls">
                            <!-- N√öT GOOGLE SYNC -->
                            <button id="btn-google-sync" class="btn-google-sync" style="background:#fff; color:#333; border:1px solid #ddd; padding:5px 15px; border-radius:20px; font-size:0.9rem; font-weight:bold; cursor:pointer; margin-right:5px; display:flex; align-items:center; gap:5px;">
                                <svg width="16" height="16" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.24.81-.6z"/><path fill="#EA4335" d="M12 4.61c1.61 0 3.09.56 4.23 1.64l3.18-3.18C17.46 1.18 14.97 0 12 0 7.7 0 3.99 2.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                                ƒê·ªìng b·ªô Google
                            </button>

                            <!-- [M·ªöI] N√öT XU·∫§T CSV -->
                            <button id="btn-export-calendar-csv" class="btn-google-sync" style="background:#fff; color:#28a745; border:1px solid #28a745; padding:5px 15px; border-radius:20px; font-size:0.9rem; font-weight:bold; cursor:pointer; margin-right:15px; display:flex; align-items:center; gap:5px;">
                                üì• Xu·∫•t Google CSV
                            </button>

                            <button id="cal-prev-btn">&lt;</button>
                            <h2 id="current-view-range"></h2>
                            <button id="cal-next-btn">&gt;</button>
                            <button id="cal-today-btn" class="filter-btn">H√¥m nay</button>
                        </div>
                    </div>
                    <div id="week-view-container" class="calendar-grid-container active-view">
                        <table class="calendar-table">
                            <thead><tr><th class="time-col">Gi·ªù</th></tr></thead>
                            <tbody id="calendar-body"></tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- LIBRARY -->
            <section id="digital-library" class="content-section">
                <h1>Th∆∞ vi·ªán S·ªë</h1>
                <div class="library-toolbar">
                    <input type="search" id="library-search" placeholder="T√¨m t√†i li·ªáu...">
                    <button class="btn-submit" id="btn-add-document">Th√™m T√†i li·ªáu +</button>
                </div>
                <div id="library-grid"></div>
                <p class="empty-state" id="library-empty" style="display:none;">Tr·ªëng.</p>
            </section>

            <!-- OUTLINES -->
            <section id="outline-composer" class="content-section">
                <h1>X√¢y d·ª±ng D√†n √Ω</h1>
                <div class="composer-toolbar">
                    <input type="search" id="outline-search" placeholder="T√¨m...">
                    <button class="btn-submit" id="btn-create-outline">T·∫°o D√†n √Ω +</button>
                </div>
                <div class="composer-main-container">
                    <div id="outline-list-container" class="outline-list-column"></div>
                    <div id="outline-editor-container" class="outline-editor-column">
                        <div id="outline-editor-welcome"><p>Ch·ªçn d√†n √Ω ƒë·ªÉ s·ª≠a.</p></div>
                        <div id="outline-editor-content" style="display:none;">
                            <div class="outline-editor-header">
                                <h2 id="editor-outline-title"></h2>
                                <button class="btn-submit" id="btn-add-root-node">Th√™m m·ª•c</button>
                            </div>
                            <div id="outline-tree-container"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SV5T -->
            <section id="student-journey" class="content-section">
                <h1>H√†nh tr√¨nh Sinh vi√™n 5 t·ªët</h1>
                <div id="sv5t-board-container"></div>
            </section>

            <!-- PROOFS -->
            <section id="proofs-management" class="content-section">
                <h1>Qu·∫£n l√Ω Minh ch·ª©ng</h1>
                <div id="proof-management-toolbar">
                    <input type="search" id="proof-search" placeholder="T√¨m ki·∫øm...">
                </div>
                <div class="proof-table-container">
                    <table class="proof-table">
                        <thead><tr><th>T√™n</th><th>Ti√™u ch√≠</th><th>H√†nh ƒë·ªông</th></tr></thead>
                        <tbody id="proof-list-body"></tbody>
                    </table>
                </div>
            </section>

            <!-- ACHIEVEMENTS -->
            <section id="achievements" class="content-section">
                <div class="achievements-header">
                    <h1>Th√†nh t√≠ch</h1>
                    <button class="btn-submit" id="btn-add-achievement">Th√™m M·ªõi +</button>
                </div>
                <div id="achievements-grid"></div>
            </section>

            <!-- STATS -->
            <section id="statistics" class="content-section">
                <h1>Th·ªëng k√™</h1>
                <div id="statistics-overview">
                    <div class="stat-card"><h3>ƒê√£ xong</h3><p class="value" id="stat-tasks-completed">0</p></div>
                    <div class="stat-card"><h3>S·ª± ki·ªán</h3><p class="value" id="stat-total-events">0</p></div>
                </div>
                <div class="chart-container">
                    <h3>T·ª∑ l·ªá ho√†n th√†nh</h3>
                    <div class="progress-bar-stack" id="task-completion-chart"></div>
                </div>
            </section>

            <!-- SETTINGS -->
            <section id="settings" class="content-section">
                <h1>C√†i ƒë·∫∑t</h1>
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>·∫¢nh ƒë·∫°i di·ªán</h3>
                        <div class="profile-picture-controls">
                            <img id="settings-profile-preview" class="profile-picture-preview" src="" alt="Preview">
                            <div style="flex-grow:1;">
                                <div class="settings-input-group">
                                    <input type="text" id="profile-pic-link" placeholder="Link ·∫£nh...">
                                    <button class="btn-submit" id="btn-save-avatar">L∆∞u</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>M√†u s·∫Øc</h3>
                        <div class="color-picker-group"><label>M√†u ch√≠nh</label><input type="color" id="color-picker-blue"></div>
                        <div class="color-picker-group"><label>M√†u nh·∫•n</label><input type="color" id="color-picker-orange"></div>
                        <button class="btn-submit" id="btn-reset-colors">M·∫∑c ƒë·ªãnh</button>
                    </div>
                    <div class="settings-card">
                        <h3>Hi·ªÉn th·ªã</h3>
                        <div style="display:flex; justify-content:space-between;">
                            <label>Ch·∫ø ƒë·ªô t·ªëi</label>
                            <label class="toggle-switch"><input type="checkbox" id="toggle-dark-mode"><span class="slider"></span></label>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>D·ªØ li·ªáu</h3>
                        <button class="btn-submit" style="background:var(--danger-color);" id="btn-clear-data">X√≥a d·ªØ li·ªáu</button>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <!-- ================= MODALS ================= -->

    <div id="event-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 id="event-modal-title">S·ª± ki·ªán</h2><button class="close-btn" id="close-event-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="event-id">
                <div class="form-group"><label>Ti√™u ƒë·ªÅ</label><input type="text" id="event-title"></div>
                <div class="form-group"><label>Li√™n k·∫øt Task</label><select id="event-task-link"></select></div>
                
                <!-- [M·ªöI] M√ÄU S·∫ÆC S·ª∞ KI·ªÜN -->
                <div class="form-group">
                    <label>M√†u hi·ªÉn th·ªã</label>
                    <input type="color" id="event-color" value="#3788d8" style="height:40px; cursor:pointer; width:100px;">
                </div>

                <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px;">
                    <div class="form-group"><label>Ng√†y</label><input type="date" id="event-date"></div>
                    <div class="form-group"><label>B·∫Øt ƒë·∫ßu</label><input type="time" id="event-start-time"></div>
                    <div class="form-group"><label>K·∫øt th√∫c</label><input type="time" id="event-end-time"></div>
                </div>
                <div style="display:flex; gap:10px; margin-top:15px; justify-content:flex-end;">
                    <button id="btn-delete-event" class="btn-submit" style="background:var(--danger-color); display:none;">X√≥a</button>
                    <button id="btn-save-event" class="btn-submit">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <div id="achievement-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2>Th√†nh t√≠ch</h2><button class="close-btn" id="close-achievement-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="achievement-id">
                <div class="form-group"><label>T√™n</label><input type="text" id="achievement-title"></div>
                <div class="form-group"><label>Lo·∫°i</label><select id="achievement-category"><option value="academic">H·ªçc t·∫≠p</option><option value="social">ƒêo√†n H·ªôi</option><option value="award">Khen th∆∞·ªüng</option><option value="other">Kh√°c</option></select></div>
                <div class="form-group"><label>Ng√†y</label><input type="date" id="achievement-date"></div>
                <div class="form-group"><label>M√¥ t·∫£</label><textarea id="achievement-description"></textarea></div>
                <div class="form-group"><label>Link ·∫£nh</label><input type="text" id="achievement-drive-link"></div>
                <div class="form-group"><label style="display:inline;"><input type="checkbox" id="achievement-featured"> ƒê√°nh d·∫•u N·ªïi b·∫≠t</label></div>
                <div style="display:flex; gap:10px; margin-top:15px; justify-content:flex-end;">
                    <button id="btn-delete-achievement" class="btn-submit" style="background:var(--danger-color); display:none;">X√≥a</button>
                    <button id="btn-save-achievement" class="btn-submit">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <div id="project-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2>D·ª± √°n</h2><button class="close-btn" id="close-project-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="project-id">
                <div class="form-group"><label>T√™n d·ª± √°n</label><input type="text" id="project-name"></div>
                <div class="form-group"><label>M√¥ t·∫£</label><textarea id="project-description"></textarea></div>
                <div class="form-group"><label>B·∫Øt ƒë·∫ßu</label><input type="date" id="project-start-date"></div>
                <div class="form-group"><label>K·∫øt th√∫c</label><input type="date" id="project-end-date"></div>
                <div style="display:flex; gap:10px; margin-top:15px; justify-content:flex-end;">
                    <button id="btn-delete-project" class="btn-submit" style="background:var(--danger-color); display:none;">X√≥a</button>
                    <button id="btn-save-project" class="btn-submit">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <div id="document-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2>T√†i li·ªáu</h2><button class="close-btn" id="close-document-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="doc-id">
                <div class="form-group"><label>Ti√™u ƒë·ªÅ</label><input type="text" id="doc-title"></div>
                <div class="form-group"><label>Lo·∫°i</label><select id="doc-type"><option value="article">B√†i b√°o</option><option value="book">S√°ch</option><option value="other">Kh√°c</option></select></div>
                <div class="form-group"><label>Link</label><input type="url" id="doc-source"></div>
                <div class="form-group"><label>Tags</label><input type="text" id="doc-tags"></div>
                <div class="form-group"><label>File</label><button class="btn-submit" onclick="document.getElementById('document-file-input').click()">Ch·ªçn File</button><span id="document-file-name" style="margin-left:10px; font-size:0.8rem;"></span></div>
                <div class="form-group"><label>Ghi ch√∫</label><textarea id="doc-notes"></textarea></div>
                <div style="display:flex; gap:10px; margin-top:15px; justify-content:flex-end;">
                    <button id="btn-delete-doc" class="btn-submit" style="background:var(--danger-color); display:none;">X√≥a</button>
                    <button id="btn-save-doc" class="btn-submit">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <div id="outline-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2>D√†n √Ω</h2><button class="close-btn" id="close-outline-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="outline-id">
                <div class="form-group"><label>T√™n D√†n √Ω</label><input type="text" id="outline-title"></div>
                <div style="display:flex; gap:10px; margin-top:15px; justify-content:flex-end;">
                    <button class="btn-submit" id="btn-save-outline">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL ADMIN -->
    <div id="admin-modal" class="modal">
        <div class="modal-content" style="max-width:900px;">
            <div class="modal-header"><h2>Dashboard Admin</h2><button class="close-btn" id="close-admin-modal">&times;</button></div>
            <div class="modal-body">
                <div style="display:flex; gap:10px; margin-bottom:20px;">
                    <div class="stat-card" style="flex:1; background:#e3f2fd;"><h4>User</h4><b id="admin-total-users">0</b></div>
                    <div class="stat-card" style="flex:1; background:#fff3e0;"><h4>Tasks</h4><b id="admin-total-tasks">0</b></div>
                    <div class="stat-card" style="flex:1; background:#e8f5e9;"><h4>Active</h4><b id="admin-active-users">0</b></div>
                </div>
                <h3>Users</h3>
                <div class="proof-table-container" style="max-height:200px; overflow:auto;">
                    <table class="proof-table">
                        <thead><tr><th>T√™n</th><th>Email</th><th>ID</th></tr></thead>
                        <tbody id="admin-user-list"></tbody>
                    </table>
                </div>
                <h3>M·∫´u</h3>
                <div id="template-list-container"></div>
                <div style="display:flex; gap:10px; margin-top:10px;">
                    <input id="tpl-name" placeholder="T√™n m·∫´u..." style="flex:1; padding:8px;">
                    <button id="btn-create-template" class="btn-submit">T·∫°o</button>
                </div>
                <h3>Tin nh·∫Øn</h3>
                <div id="admin-msg-list"></div>
            </div>
        </div>
    </div>

    <!-- HELPER DIVS -->
    <div id="confirm-modal" class="modal"><div class="modal-content"><div class="modal-header"><h2>X√°c nh·∫≠n</h2><button class="close-btn" id="close-confirm-modal">&times;</button></div><div class="modal-body"><p id="confirm-modal-text"></p><div style="display:flex; justify-content:flex-end; gap:10px;"><button class="btn-submit" style="background:#666;" id="btn-cancel-confirm">H·ªßy</button><button class="btn-submit" style="background:var(--danger-color);" id="btn-ok-confirm">OK</button></div></div></div></div>
    <div id="sv5t-panel-overlay" class="sv5t-panel-overlay"></div>
    <div id="sv5t-side-panel" class="sv5t-side-panel"><div class="sv5t-panel-header"><h2 id="sv5t-panel-title"></h2><button id="sv5t-panel-close-btn">&times;</button></div><div class="sv5t-panel-body" id="condition-list-container"></div></div>
    <div id="outline-node-panel-overlay" class="sv5t-panel-overlay"></div>
    <div id="outline-node-side-panel" class="sv5t-side-panel"><div class="sv5t-panel-header"><h2 id="outline-node-panel-title"></h2><button id="outline-node-panel-close-btn">&times;</button></div><div class="sv5t-panel-body" id="outline-node-panel-body"></div></div>
    <div id="notification-container"></div>

    <!-- HIDDEN INPUTS -->
    <input type="file" id="import-file-input" style="display:none;">
    <input type="file" id="proof-upload-input" style="display:none;">
    <input type="file" id="achievement-file-input" style="display:none;">
    <input type="file" id="document-file-input" style="display:none;">

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.0/dist/quill.min.js"></script>
    <!-- SortableJS (Quan tr·ªçng cho Timeline) -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script type="module" src="js/main.js"></script>

</body>
</html>
