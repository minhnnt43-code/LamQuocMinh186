<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Firebase - ToDo List</title>
    
    <!-- Gi·ªØ nguy√™n CSS c≈© ƒë·ªÉ giao di·ªán ƒë·∫πp -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Font ch·ªØ -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- 1. M√ÄN H√åNH ƒêƒÇNG NH·∫¨P -->
    <div id="login-container">
        <div class="login-box">
            <h2>ƒêƒÉng Nh·∫≠p Test</h2>
            <p id="login-error" style="color: red; display: none;"></p>
            <p style="color: gray; font-size: 0.9rem;">Phi√™n b·∫£n th·ª≠ nghi·ªám k·∫øt n·ªëi Firebase</p>
            <br>
            <button class="btn-submit" onclick="handleLogin()">ƒêƒÉng nh·∫≠p b·∫±ng Google</button>
        </div>
    </div>
    
    <!-- 2. M√ÄN H√åNH ·ª®NG D·ª§NG (·∫®n khi ch∆∞a ƒëƒÉng nh·∫≠p) -->
    <div id="app-container" style="display: none;">
        
        <!-- Sidebar r√∫t g·ªçn -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img id="user-avatar" class="profile-picture" src="" alt="Avatar">
                <div class="welcome-message">Xin ch√†o, <strong id="user-name">...</strong></div>
            </div>
            
            <ul class="nav-menu">
                <li><button class="nav-btn active">üìù To-do List</button></li>
            </ul>

            <div class="sidebar-footer">
                <button class="logout-btn" onclick="handleLogout()">ƒêƒÉng xu·∫•t</button>
            </div>
        </aside>

        <!-- N·ªôi dung ch√≠nh -->
        <main class="main-content">
            <section class="content-section active" style="display: block;">
                <h1>Danh s√°ch vi·ªác c·∫ßn l√†m</h1>
                <p style="margin-bottom: 20px; color: gray;">D·ªØ li·ªáu n√†y s·∫Ω ƒë∆∞·ª£c ƒë·ªìng b·ªô l√™n Google Firebase.</p>
                
                <!-- Form th√™m vi·ªác -->
                <div class="form-container">
                    <div class="settings-input-group">
                        <input type="text" id="todo-input" placeholder="Nh·∫≠p vi·ªác c·∫ßn l√†m r·ªìi nh·∫•n Enter...">
                        <button class="btn-submit" onclick="addTodo()">Th√™m</button>
                    </div>
                </div>

                <!-- B·ªô l·ªçc -->
                <div class="task-filter-controls">
                    <button class="filter-btn active" onclick="filterTodo('all')">T·∫•t c·∫£</button>
                    <button class="filter-btn" onclick="filterTodo('incomplete')">Ch∆∞a xong</button>
                    <button class="filter-btn" onclick="filterTodo('completed')">ƒê√£ xong</button>
                </div>

                <!-- Danh s√°ch hi·ªÉn th·ªã -->
                <div id="todo-list-container" class="list-container">
                    <!-- Item s·∫Ω ƒë∆∞·ª£c JS v·∫Ω v√†o ƒë√¢y -->
                </div>
            </section>
        </main>
    </div>

    <!-- LOADING SPINNER -->
    <div id="loading" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); color:white; display:none; justify-content:center; align-items:center; z-index:9999;">
        ƒêang ƒë·ªìng b·ªô d·ªØ li·ªáu...
    </div>

    <!-- QUAN TR·ªåNG: FILE JS MODULE -->
    <script type="module" src="script.js"></script>

</body>
</html>
