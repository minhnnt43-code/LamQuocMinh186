<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω C√¥ng Vi·ªác & Th·ªùi Gian - C√° Nh√¢n H√≥a</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="·ª®ng d·ª•ng qu·∫£n l√Ω c√¥ng vi·ªác, th·ªùi gian v√† m·ª•c ti√™u c√° nh√¢n hi·ªáu qu·∫£. T√≠ch h·ª£p Firebase.">
    <meta name="author" content="L√¢m Qu·ªëc Minh">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjMDA1Qjk2Ii8+Cjx0ZXh0IHg9IjE2IiB5PSIyMCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE4IiBmb250LWdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaGyPSJtaWRkbGUiPkM8L3RleHQ+Cjwvc3ZnPg==">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=UTM+Avo&display=swap" rel="stylesheet">
    
    <!-- Quill.js CSS (So·∫°n th·∫£o vƒÉn b·∫£n) -->
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.0/dist/quill.snow.css" rel="stylesheet" />

    <!-- CSS Ch√≠nh (1 File Duy Nh·∫•t) -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- 1. M√ÄN H√åNH ƒêƒÇNG NH·∫¨P -->
    <div id="login-container">
        <div class="login-box">
            <div class="login-welcome-text">CH√öC B·∫†N M·ªòT NG√ÄY VUI</div>
            
            <h2>ƒêƒÉng nh·∫≠p</h2>

            <!-- Form nh·∫≠p li·ªáu (Giao di·ªán) -->
            <div class="login-form-group">
                <label>Email</label>
                <input type="text" class="login-input" placeholder="Nh·∫≠p email...">
            </div>

            <div class="login-form-group">
                <label>M·∫≠t kh·∫©u</label>
                <div class="password-wrapper">
                    <input type="password" class="login-input" placeholder="Nh·∫≠p m·∫≠t kh·∫©u...">
                    <span class="eye-icon">üëÅÔ∏è</span>
                </div>
            </div>

            <div class="login-options">
                <label class="checkbox-container">
                    <input type="checkbox"> Duy tr√¨ ƒëƒÉng nh·∫≠p
                </label>
            </div>

            <button class="btn-login-submit">ƒêƒÉng nh·∫≠p</button>

            <div class="separator">
                <span>ho·∫∑c</span>
            </div>

            <!-- N√∫t Google -->
            <button id="btn-login-google" class="btn-google-custom">
                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/><path fill="none" d="M0 0h48v48H0z"/></svg>
                <span>ƒêƒÉng nh·∫≠p v·ªõi Google</span>
            </button>

            <p id="login-error" style="color: red; margin-top: 10px; font-size: 0.9rem; display: none;"></p>
        </div>
    </div>
    
    <!-- 2. LOADING SPINNER -->
    <div id="loading-spinner" class="loading-spinner" style="display: none;">
        <div class="spinner"></div>
        <div class="loading-text">ƒêang ƒë·ªìng b·ªô d·ªØ li·ªáu...</div>
    </div>
    
    <!-- 3. GIAO DI·ªÜN CH√çNH -->
    <div id="app-container" style="display: none;">
        
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img id="sidebar-profile-pic" class="profile-picture" src="https://placehold.co/80x80/FFFFFF/005B96?text=User" alt="Avatar">
                <div class="welcome-message">Xin ch√†o, <strong id="sidebar-user-name">Ng∆∞·ªùi d√πng</strong></div>
            </div>
            <div class="info-widget">
                <div id="current-time">--:--:--</div>
                <div id="current-date">--/--/----</div>
            </div>
            
            <!-- Menu Navigation -->
            <ul class="nav-menu" role="navigation">
                <!-- N√∫t Admin Panel s·∫Ω ƒë∆∞·ª£c JS ch√®n v√†o ƒë·∫ßu danh s√°ch n√†y n·∫øu l√† Admin -->
                <li><button class="nav-btn active" data-target="dashboard">T·ªïng quan</button></li>
                
                <li class="nav-group">
                    <button class="nav-group-toggle">Kh√¥ng gian l√†m vi·ªác</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" data-target="tasks">Qu·∫£n l√Ω c√¥ng vi·ªác</button></li>
                        <li><button class="nav-btn" data-target="todo-list">To-do List</button></li>
                        <li><button class="nav-btn" data-target="drafts">B·∫£n Nh√°p</button></li>
                        <li><button class="nav-btn" data-target="projects">D·ª± √°n</button></li>
                        <li><button class="nav-btn" data-target="time-management">L·ªãch bi·ªÉu</button></li>
                    </ul>
                </li>
                
                <li class="nav-group">
                    <button class="nav-group-toggle">H·ªçc t·∫≠p & Ph√°t tri·ªÉn</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" data-target="focus-mode">Ch·∫ø ƒë·ªô t·∫≠p trung</button></li>
                        <li><button class="nav-btn" data-target="achievements">Th√†nh t√≠ch</button></li>
                        <li><button class="nav-btn" data-target="student-journey">H√†nh tr√¨nh SV5T</button></li>
                        <li><button class="nav-btn" data-target="proofs-management">Qu·∫£n l√Ω Minh ch·ª©ng</button></li>
                    </ul>
                </li>
                
                <li class="nav-group">
                    <button class="nav-group-toggle">Nghi√™n c·ª©u</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" data-target="digital-library">Th∆∞ vi·ªán S·ªë</button></li>
                        <li><button class="nav-btn" data-target="outline-composer">X√¢y d·ª±ng D√†n √Ω</button></li>
                    </ul>
                </li>

                <li class="nav-group">
                    <button class="nav-group-toggle">H·ªá th·ªëng</button>
                    <ul class="nav-submenu">
                        <li><button class="nav-btn" data-target="personal-info">H·ªì s∆° c√° nh√¢n</button></li>
                        <li><button class="nav-btn" data-target="statistics">Th·ªëng k√™</button></li>
                        <li><button class="nav-btn" data-target="settings">C√†i ƒë·∫∑t</button></li>
                    </ul>
                </li>
            </ul>

            <div class="sidebar-footer">
                <div class="data-actions">
                    <button class="import-btn" id="btn-import-data">Nh·∫≠p File</button>
                    <button class="export-btn" id="btn-export-data">Xu·∫•t File</button>
                </div>
                <button class="logout-btn" id="btn-logout">ƒêƒÉng xu·∫•t</button>
            </div>
        </aside>

        <!-- MAIN CONTENT AREA -->
        <main class="main-content">
            
            <!-- SECTION: DASHBOARD -->
            <section id="dashboard" class="content-section active">
                <h1>T·ªïng quan</h1>
                <div id="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>C√¥ng vi·ªác h√¥m nay</h3>
                        <ul class="dashboard-list" id="dashboard-today-tasks"></ul>
                        <p class="empty-state" id="dashboard-today-tasks-empty">Kh√¥ng c√≥ c√¥ng vi·ªác n√†o h√¥m nay.</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>S·ª± ki·ªán s·∫Øp t·ªõi</h3>
                        <ul class="dashboard-list" id="dashboard-upcoming-events"></ul>
                        <p class="empty-state" id="dashboard-upcoming-events-empty">Kh√¥ng c√≥ s·ª± ki·ªán n√†o s·∫Øp t·ªõi.</p>
                    </div>
                    <div class="dashboard-card">
                        <h3>To-do List</h3>
                        <ul class="dashboard-list" id="dashboard-todo-list"></ul>
                        <p class="empty-state" id="dashboard-todo-list-empty">Tr·ªëng.</p>
                    </div>
                     <div class="dashboard-card">
                        <h3>B·∫£n nh√°p g·∫ßn ƒë√¢y</h3>
                        <ul class="dashboard-list" id="dashboard-recent-drafts"></ul>
                        <p class="empty-state" id="dashboard-recent-drafts-empty">Ch∆∞a c√≥ b·∫£n nh√°p.</p>
                    </div>
                </div>
            </section>

<!-- SECTION: PERSONAL INFO (ƒê√É N√ÇNG C·∫§P ƒê·ªÇ CH·ªàNH PORTFOLIO) -->
            <section id="personal-info" class="content-section">
                <h1>H·ªì s∆° c√° nh√¢n & Portfolio</h1>
                
                <div class="personal-info-card" style="max-width: 800px;">
                    <h2>1. Th√¥ng tin c∆° b·∫£n</h2>
                    <div class="form-grid" style="margin-bottom: 20px;">
                        <div class="form-group"><label>H·ªç v√† t√™n</label><input type="text" id="pi-fullname"></div>
                        <div class="form-group"><label>Email li√™n h·ªá</label><input type="text" id="pi-email"></div>
                        <div class="form-group"><label>S·ªë ƒëi·ªán tho·∫°i</label><input type="text" id="pi-phone"></div>
                        <div class="form-group"><label>Ngh·ªÅ nghi·ªáp / Ch·ª©c v·ª• ch√≠nh</label><input type="text" id="pi-occupation"></div>
                    </div>

                    <!-- PH·∫¶N M·ªöI: CH·ªàNH S·ª¨A C√ÅC TH·∫∫ CHIP TR√äN PORTFOLIO -->
                    <h2 style="margin-top: 30px; border-top: 1px dashed #ccc; padding-top: -3px;">2. Th·∫ª hi·ªÉn th·ªã tr√™n Portfolio üåê</h2>
                    <p style="color:#666; font-size:0.9rem; margin-bottom:15px;">Nh·∫≠p th√¥ng tin ƒë·ªÉ hi·ªán c√°c th·∫ª tr√≤n b√™n d∆∞·ªõi t√™n b·∫°n ·ªü trang Portfolio.</p>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label>üéì Tr∆∞·ªùng h·ªçc / ƒê∆°n v·ªã</label>
                            <input type="text" id="pf-school" placeholder="VD: ƒê·∫°i h·ªçc Kinh t·∫ø - Lu·∫≠t (UEL)">
                        </div>
                        <div class="form-group">
                            <label>‚≠ê Danh hi·ªáu n·ªïi b·∫≠t</label>
                            <input type="text" id="pf-award" placeholder="VD: Sinh vi√™n 5 T·ªët">
                        </div>
                        <div class="form-group">
                            <label>üíº Vai tr√≤ ƒêo√†n - H·ªôi</label>
                            <input type="text" id="pf-role" placeholder="VD: C√°n b·ªô ƒêo√†n - H·ªôi">
                        </div>
                        <div class="form-group">
                            <label>üìç ƒê·ªãa ƒëi·ªÉm</label>
                            <input type="text" id="pf-location" placeholder="VD: TP. H·ªì Ch√≠ Minh">
                        </div>
                    </div>

                    <div style="text-align: right; margin-top: 20px;">
                        <button id="btn-save-profile" class="btn-submit" style="padding: 12px 30px; font-size: 1rem;">üíæ L∆∞u T·∫•t C·∫£ Th√¥ng Tin</button>
                    </div>
                </div>
            </section>

            <!-- SECTION: TASKS -->
            <section id="tasks" class="content-section">
                <h1>Qu·∫£n l√Ω c√¥ng vi·ªác</h1>
                <div class="task-ticker-container"><p class="task-ticker"></p></div>
                <div class="quick-add-container"><input type="text" id="quick-add-task-input" placeholder="Th√™m nhanh c√¥ng vi·ªác (Enter)..."></div>
                
                <div class="form-container">
                    <div class="form-grid">
                        <div class="form-group" style="grid-column: 1 / -1;"><label>T√™n c√¥ng vi·ªác</label><input type="text" id="task-name"></div>
                        <div class="form-group"><label>∆Øu ti√™n</label><select id="task-priority"><option value="low">Th·∫•p</option><option value="medium" selected>Trung b√¨nh</option><option value="high">Cao</option></select></div>
                        <div class="form-group"><label>Ph√¢n lo·∫°i</label><select id="task-category"></select></div>
                        <div class="form-group"><label>H·∫°n ch√≥t</label><input type="date" id="task-due-date"></div>
                        <div class="form-group"><label>Ti·∫øn ƒë·ªô</label><select id="task-status"></select></div>
                        <div class="form-group"><label>L·∫∑p l·∫°i</label><select id="task-recurrence"><option value="none">Kh√¥ng</option><option value="daily">H√†ng ng√†y</option><option value="weekly">H√†ng tu·∫ßn</option><option value="monthly">H√†ng th√°ng</option></select></div>
                        <div class="form-group"><label>D·ª± √°n</label><select id="task-project"><option value="">Kh√¥ng c√≥</option></select></div>
                        <div class="form-group"><label>Link ƒë√≠nh k√®m</label><input type="text" id="task-link"></div>
                        <div class="form-group" style="grid-column: 1 / -1;"><label>Th·∫ª (tag)</label><input type="text" id="task-tags" placeholder="ngƒÉn c√°ch b·∫±ng d·∫•u ph·∫©y"></div>
                        <div class="form-group" style="grid-column: 1 / -1;"><label>Ghi ch√∫</label><textarea id="task-notes"></textarea></div>
                    </div>
                    <button id="add-task-btn" class="btn-submit">Th√™m c√¥ng vi·ªác</button>
                </div>

                <div class="task-controls">
                    <div class="task-search-sort">
                        <input type="search" id="task-search" placeholder="T√¨m ki·∫øm...">
                        <select id="task-sort">
                            <option value="priority">S·∫Øp x·∫øp: ∆Øu ti√™n</option>
                            <option value="dueDate-asc">H·∫°n ch√≥t (g·∫ßn nh·∫•t)</option>
                            <option value="dueDate-desc">H·∫°n ch√≥t (xa nh·∫•t)</option>
                            <option value="name-asc">T√™n (A-Z)</option>
                        </select>
                    </div>
                    <div class="task-filter-controls">
                        <button class="filter-btn active" data-filter="all">T·∫•t c·∫£</button>
                        <button class="filter-btn" data-filter="today">H√¥m nay</button>
                        <button class="filter-btn" data-filter="important">Quan tr·ªçng</button>
                        <button class="filter-btn" data-filter="incomplete">Ch∆∞a xong</button>
                    </div>
                </div>
                <div id="task-list" class="list-container"></div>
            </section>

            <!-- SECTION: TODO LIST -->
            <section id="todo-list" class="content-section">
                <h1>To-do List H√†ng Ng√†y</h1>
                <div class="form-container" style="padding: 1.5rem; margin-bottom: 1.5rem;">
                    <div class="settings-input-group">
                        <input type="text" id="new-todo-input" placeholder="Vi·ªác c·∫ßn l√†m...">
                        <button class="btn-submit" id="btn-add-todo">Th√™m</button>
                    </div>
                </div>
                <div class="task-filter-controls" id="todo-filter-controls">
                    <button class="filter-btn active" data-filter="all">T·∫•t c·∫£</button>
                    <button class="filter-btn" data-filter="active">C·∫ßn l√†m</button>
                    <button class="filter-btn" data-filter="completed">ƒê√£ xong</button>
                </div>
                <div id="todo-list-container" class="list-container"></div>
            </section>

            <!-- SECTION: DRAFTS (B·∫¢N NH√ÅP) -->
            <section id="drafts" class="content-section">
                <h1>B·∫£n Nh√°p & Ghi Ch√©p</h1>
                <div class="composer-toolbar">
                    <input type="search" id="drafts-search" placeholder="T√¨m b·∫£n nh√°p...">
                    <button class="btn-submit" id="btn-create-draft">T·∫°o M·ªõi +</button>
                </div>
                <div class="composer-main-container">
                    <div id="drafts-list-column" class="outline-list-column"></div>
                    <div id="drafts-editor-column" class="outline-editor-column" style="padding: 0;">
                        <div id="drafts-editor-welcome">
                            <p>Ch·ªçn b·∫£n nh√°p ƒë·ªÉ xem ho·∫∑c t·∫°o m·ªõi.</p>
                        </div>
                        <div id="drafts-editor-content" style="display: none; height: 100%; flex-direction: column;">
                            <div class="draft-header">
                                <input type="text" id="draft-title-input" placeholder="Ti√™u ƒë·ªÅ...">
                                <span id="draft-status"></span>
                            </div>
                            <!-- Container cho QuillJS -->
                            <div id="editor-container" style="height: 100%;"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: PROJECTS -->
            <section id="projects" class="content-section">
                <div class="achievements-header">
                    <h1>Qu·∫£n l√Ω D·ª± √°n</h1>
                    <button class="btn-submit" id="btn-open-project-modal">Th√™m D·ª± √°n +</button>
                </div>
                <div id="project-list-container"></div>
                <p class="empty-state" id="project-list-empty" style="display: none;">Ch∆∞a c√≥ d·ª± √°n n√†o.</p>
            </section>

            <!-- SECTION: FOCUS MODE (POMODORO) -->
            <section id="focus-mode" class="content-section">
                <div id="focus-mode-section">
                    <h1>Ch·∫ø ƒë·ªô t·∫≠p trung</h1>
                    <p style="font-size: 1.2rem; margin-bottom: 1rem;">Th·ªùi gian c√≤n l·∫°i:</p>
                    <div id="pomodoro-timer">25:00</div>
                    <div class="focus-control-buttons">
                        <button id="pomodoro-start-btn">B·∫Øt ƒë·∫ßu</button>
                        <button id="pomodoro-pause-btn" style="display: none;">T·∫°m d·ª´ng</button>
                        <button id="pomodoro-reset-btn">ƒê·∫∑t l·∫°i</button>
                    </div>
                    <div class="focus-mode-settings">
                        <h3>C√†i ƒë·∫∑t th·ªùi gian (ph√∫t)</h3>
                        <div class="form-grid">
                            <div class="form-group"><label>L√†m vi·ªác</label><input type="number" id="focus-duration" value="25" min="1"></div>
                            <div class="form-group"><label>Ngh·ªâ</label><input type="number" id="break-duration" value="5" min="1"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: CALENDAR -->
            <section id="time-management" class="content-section">
                <div id="calendar-section-container">
                    <div class="calendar-header">
                        <div class="calendar-header-controls">
                            <button id="cal-prev-btn">&lt;</button>
                            <h2 id="current-view-range"></h2>
                            <button id="cal-next-btn">&gt;</button>
                            <button id="cal-today-btn" class="filter-btn">H√¥m nay</button>
                            <div class="calendar-view-toggle">
                                <button id="view-week-btn" class="active">Tu·∫ßn</button>
                                <button id="view-month-btn">Th√°ng</button>
                            </div>
                        </div>
                    </div>
                    <div id="week-view-container" class="calendar-grid-container active-view">
                        <table class="calendar-table">
                            <thead><tr><th class="time-col">Gi·ªù</th><!-- JS s·∫Ω render c·ªôt ng√†y --></tr></thead>
                            <tbody id="calendar-body"><!-- JS s·∫Ω render l∆∞·ªõi gi·ªù --></tbody>
                        </table>
                        <div id="current-time-indicator" class="current-time-indicator"></div>
                    </div>
                    <div id="month-view-container" class="calendar-grid-container" style="display: none;">
                        <div id="month-calendar-grid"></div>
                    </div>
                </div>
            </section>

            <!-- SECTION: LIBRARY (TH∆Ø VI·ªÜN S·ªê) -->
            <section id="digital-library" class="content-section">
                <h1>Th∆∞ vi·ªán S·ªë</h1>
                <div class="library-toolbar">
                    <input type="search" id="library-search" placeholder="T√¨m t√†i li·ªáu...">
                    <select id="library-sort">
                        <option value="date-desc">M·ªõi nh·∫•t</option>
                        <option value="date-asc">C≈© nh·∫•t</option>
                        <option value="title-asc">T√™n A-Z</option>
                    </select>
                    <button class="btn-submit" id="btn-add-document">Th√™m T√†i li·ªáu +</button>
                </div>
                <div id="library-grid"></div>
                <p class="empty-state" id="library-empty" style="display: none;">Th∆∞ vi·ªán tr·ªëng.</p>
            </section>
            
            <!-- SECTION: OUTLINE COMPOSER (D√ÄN √ù) -->
            <section id="outline-composer" class="content-section">
                <h1>X√¢y d·ª±ng D√†n √Ω</h1>
                <div class="composer-toolbar">
                    <input type="search" id="outline-search" placeholder="T√¨m d√†n √Ω...">
                    <button class="btn-submit" id="btn-create-outline">T·∫°o D√†n √Ω +</button>
                </div>
                <div class="composer-main-container">
                    <div id="outline-list-container" class="outline-list-column"></div>
                    <div id="outline-editor-container" class="outline-editor-column">
                        <div id="outline-editor-welcome"><p>Ch·ªçn ho·∫∑c t·∫°o d√†n √Ω m·ªõi.</p></div>
                        <div id="outline-editor-content" style="display: none;">
                            <div class="outline-editor-header">
                                <h2 id="editor-outline-title"></h2>
                                <button class="btn-submit" id="btn-add-root-node">Th√™m m·ª•c ch√≠nh</button>
                            </div>
                            <div id="outline-tree-container"></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- SECTION: SV5T (SINH VI√äN 5 T·ªêT) -->
            <section id="student-journey" class="content-section">
                <h1>H√†nh tr√¨nh Sinh vi√™n 5 t·ªët</h1>
                <div id="sv5t-board-container"></div>
            </section>

            <!-- SECTION: PROOFS (MINH CH·ª®NG) -->
            <section id="proofs-management" class="content-section">
                <h1>Qu·∫£n l√Ω Minh ch·ª©ng</h1>
                <div id="proof-management-toolbar">
                    <input type="search" id="proof-search" placeholder="T√¨m ki·∫øm minh ch·ª©ng...">
                </div>
                <div class="proof-table-container">
                    <table class="proof-table">
                        <thead><tr><th>T√™n</th><th>Ti√™u ch√≠</th><th>Dung l∆∞·ª£ng</th><th>H√†nh ƒë·ªông</th></tr></thead>
                        <tbody id="proof-list-body"></tbody>
                    </table>
                </div>
            </section>
            
            <!-- SECTION: ACHIEVEMENTS (TH√ÄNH T√çCH) -->
            <section id="achievements" class="content-section">
                <div class="achievements-header">
                    <h1>Th√†nh t√≠ch</h1>
                    <button class="btn-submit" id="btn-add-achievement">Th√™m M·ªõi +</button>
                </div>
                <div id="achievements-grid"></div>
            </section>

            <!-- SECTION: STATISTICS (TH·ªêNG K√ä) -->
            <section id="statistics" class="content-section">
                <h1>Th·ªëng k√™ & B√°o c√°o</h1>
                <div id="statistics-overview">
                    <div class="stat-card"><h3>C√¥ng vi·ªác xong</h3><p class="value" id="stat-tasks-completed">0</p></div>
                    <div class="stat-card"><h3>S·ª± ki·ªán</h3><p class="value" id="stat-total-events">0</p></div>
                </div>
                <div class="chart-container">
                    <h3>T·ª∑ l·ªá ho√†n th√†nh</h3>
                    <div class="progress-bar-stack" id="task-completion-chart"></div>
                    <div class="progress-legend" id="task-completion-legend"></div>
                </div>
                <div class="chart-container">
                    <h3>Ph√¢n b·ªï theo lo·∫°i</h3>
                    <div class="category-chart-bars" id="task-category-chart"></div>
                </div>
            </section>
            
            <!-- SECTION: SETTINGS -->
            <section id="settings" class="content-section">
                <h1>C√†i ƒë·∫∑t</h1>
                <div class="settings-grid">
                     <div class="settings-card" id="profile-picture-settings">
                        <h3>·∫¢nh ƒë·∫°i di·ªán</h3>
                        <div class="profile-picture-controls">
                            <img id="settings-profile-preview" class="profile-picture-preview" src="" alt="Preview">
                            <div>
                                <!-- Input file ·∫©n -->
                                <button class="btn-submit" onclick="document.getElementById('profile-pic-input').click()">Ch·ªçn ·∫£nh</button>
                            </div>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>M√†u s·∫Øc ch·ªß ƒë·∫°o</h3>
                        <div class="color-picker-group"><label>M√†u ch√≠nh (Xanh)</label><input type="color" id="color-picker-blue" value="#005B96"></div>
                        <div class="color-picker-group"><label>M√†u nh·∫•n (Cam)</label><input type="color" id="color-picker-orange" value="#FF7A00"></div>
                        <button class="btn-submit" id="btn-reset-colors">Kh√¥i ph·ª•c m·∫∑c ƒë·ªãnh</button>
                    </div>
                    <div class="settings-card">
                        <h3>Hi·ªÉn th·ªã</h3>
                        <div style="display: flex; justify-content: space-between;">
                            <label>Ch·∫ø ƒë·ªô t·ªëi (Dark Mode)</label>
                            <label class="toggle-switch"><input type="checkbox" id="toggle-dark-mode"><span class="slider"></span></label>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>D·ªØ li·ªáu</h3>
                        <button class="btn-submit" style="background-color: var(--warning-color); color: #333;" id="btn-deduplicate">T√¨m m·ª•c tr√πng l·∫∑p</button>
                        <br><br>
                        <button class="btn-submit" style="background-color: var(--danger-color);" id="btn-clear-data">X√≥a to√†n b·ªô d·ªØ li·ªáu</button>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- ================= MODALS (C·ª¨A S·ªî B·∫¨T L√äN) ================= -->
    
    <!-- Modal S·ª≠a/Th√¥ng tin (D√πng chung cho Task, Info) -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="modal-title">Ti√™u ƒë·ªÅ</h2><button class="close-btn" id="close-edit-modal">&times;</button></div>
            <div class="modal-body" id="modal-body"></div>
        </div>
    </div>

    <!-- Modal S·ª± ki·ªán L·ªãch -->
    <div id="event-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="event-modal-title">S·ª± ki·ªán</h2><button class="close-btn" id="close-event-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="event-id">
                <div class="form-group"><label>Ti√™u ƒë·ªÅ</label><input type="text" id="event-title"></div>
                <div class="form-group"><label>Li√™n k·∫øt c√¥ng vi·ªác</label><select id="event-task-link"></select></div>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
                    <div class="form-group"><label>Ng√†y</label><input type="date" id="event-date"></div>
                    <div class="form-group"><label>B·∫Øt ƒë·∫ßu</label><input type="time" id="event-start-time"></div>
                    <div class="form-group"><label>K·∫øt th√∫c</label><input type="time" id="event-end-time"></div>
                </div>
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1rem;">
                    <button id="btn-delete-event" class="btn-submit" style="background-color: var(--danger-color); display: none;">X√≥a</button>
                    <button id="btn-save-event" class="btn-submit">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Th√†nh t√≠ch -->
    <div id="achievement-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="achievement-modal-title">Th√†nh t√≠ch</h2><button class="close-btn" id="close-achievement-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="achievement-id">
                <div class="form-group"><label>T√™n</label><input type="text" id="achievement-title"></div>
                <div class="form-group"><label>Ng√†y</label><input type="date" id="achievement-date"></div>
                <div class="form-group"><label>M√¥ t·∫£</label><textarea id="achievement-description"></textarea></div>
                <div class="form-group">
                    <label>·∫¢nh minh ch·ª©ng</label>
                    <button class="btn-submit" onclick="document.getElementById('achievement-file-input').click()">Ch·ªçn T·ªáp</button>
                    <p id="achievement-file-name"></p>
                </div>
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;">
                    <button id="btn-delete-achievement" class="btn-submit" style="background-color: var(--danger-color); display: none;">X√≥a</button>
                    <button id="btn-save-achievement" class="btn-submit">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal D·ª± √°n -->
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="project-modal-title">D·ª± √°n</h2><button class="close-btn" id="close-project-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="project-id">
                <div class="form-group"><label>T√™n d·ª± √°n</label><input type="text" id="project-name"></div>
                <div class="form-group"><label>M√¥ t·∫£</label><textarea id="project-description"></textarea></div>
                <div class="form-group"><label>B·∫Øt ƒë·∫ßu</label><input type="date" id="project-start-date"></div>
                <div class="form-group"><label>K·∫øt th√∫c</label><input type="date" id="project-end-date"></div>
                
                <h3>C√¥ng vi·ªác trong d·ª± √°n</h3>
                <ul id="project-tasks-list" class="settings-list"></ul>
                <div class="settings-input-group">
                    <select id="add-task-to-project-select"></select>
                    <button class="btn-submit" id="btn-add-project-task">Th√™m</button>
                </div>
                
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;">
                    <button id="btn-delete-project" class="btn-submit" style="background-color: var(--danger-color); display: none;">X√≥a</button>
                    <button id="btn-save-project" class="btn-submit">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal T√†i li·ªáu -->
    <div id="document-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2 class="modal-title" id="document-modal-title">T√†i li·ªáu</h2><button class="close-btn" id="close-document-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="doc-id">
                <div class="form-group"><label>Ti√™u ƒë·ªÅ</label><input type="text" id="doc-title"></div>
                <div class="form-group"><label>Lo·∫°i</label><select id="doc-type"><option value="article">B√†i b√°o</option><option value="book">S√°ch</option><option value="other">Kh√°c</option></select></div>
                <div class="form-group"><label>Link ngu·ªìn</label><input type="url" id="doc-source"></div>
                <div class="form-group"><label>Th·∫ª (Tag)</label><input type="text" id="doc-tags"></div>
                <div class="form-group">
                    <label>T·ªáp ƒë√≠nh k√®m</label>
                    <button class="btn-submit" onclick="document.getElementById('document-file-input').click()">Ch·ªçn T·ªáp</button>
                    <p id="document-file-name"></p>
                </div>
                <div class="form-group"><label>Ghi ch√∫</label><textarea id="doc-notes"></textarea></div>
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;">
                    <button id="btn-delete-doc" class="btn-submit" style="background-color: var(--danger-color); display: none;">X√≥a</button>
                    <button id="btn-save-doc" class="btn-submit">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Xem T√†i li·ªáu -->
    <div id="document-viewer-modal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header"><h2 class="modal-title" id="viewer-title"></h2><button class="close-btn" id="close-viewer-modal">&times;</button></div>
            <div class="modal-body" id="viewer-body"></div>
        </div>
    </div>

    <!-- Modal D√†n √Ω -->
    <div id="outline-modal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header"><h2 class="modal-title" id="outline-modal-title">D√†n √Ω</h2><button class="close-btn" id="close-outline-modal">&times;</button></div>
            <div class="modal-body">
                <input type="hidden" id="outline-id">
                <div class="form-group"><label>T√™n D√†n √Ω</label><input type="text" id="outline-title"></div>
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;">
                    <button class="btn-submit" id="btn-save-outline">L∆∞u</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal X√°c nh·∫≠n (Confirm) -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content" style="max-width: 450px;">
            <div class="modal-header"><h2 class="modal-title">X√°c nh·∫≠n</h2><button class="close-btn" id="close-confirm-modal">&times;</button></div>
            <div class="modal-body">
                <p id="confirm-modal-text"></p>
                <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;">
                    <button class="btn-submit" style="background-color: var(--dark-gray);" id="btn-cancel-confirm">H·ªßy</button>
                    <button class="btn-submit" style="background-color: var(--danger-color);" id="btn-ok-confirm">X√°c nh·∫≠n</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal Tr√πng l·∫∑p (Deduplicate) -->
    <div id="duplicate-review-modal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header"><h2 class="modal-title">X·ª≠ l√Ω Tr√πng l·∫∑p</h2><button class="close-btn" id="close-duplicate-modal">&times;</button></div>
            <div class="modal-body" id="duplicate-review-body"></div>
            <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1.5rem;">
                 <button class="btn-submit" style="background-color: var(--dark-gray);" id="btn-cancel-duplicate">H·ªßy</button>
                 <button class="btn-submit" style="background-color: var(--danger-color);" id="btn-execute-deduplicate">X√≥a m·ª•c tr√πng</button>
            </div>
        </div>
    </div>
    
    <!-- SIDE PANELS (THANH TR∆Ø·ª¢T B√äN PH·∫¢I) -->
    
    <!-- Panel Chi ti·∫øt SV5T -->
    <div id="sv5t-panel-overlay" class="sv5t-panel-overlay"></div>
    <div id="sv5t-side-panel" class="sv5t-side-panel">
        <div class="sv5t-panel-header"><h2 id="sv5t-panel-title"></h2><button id="sv5t-panel-close-btn">&times;</button></div>
        <div class="sv5t-panel-body" id="sv5t-panel-body">
            <div class="condition-list" id="condition-list-container"></div>
        </div>
    </div>

    <!-- Panel Chi ti·∫øt M·ª•c D√†n √Ω -->
    <div id="outline-node-panel-overlay" class="sv5t-panel-overlay"></div>
    <div id="outline-node-side-panel" class="sv5t-side-panel">
        <div class="sv5t-panel-header"><h2 id="outline-node-panel-title">Chi ti·∫øt M·ª•c</h2><button id="outline-node-panel-close-btn">&times;</button></div>
        <div class="sv5t-panel-body" id="outline-node-panel-body"></div>
    </div>

    <!-- C√ÅC INPUT FILE ·∫®N (ƒê·ªÉ JS g·ªçi click()) -->
    <input type="file" id="import-file-input" accept=".json" style="display: none;">
    <input type="file" id="profile-pic-input" accept="image/*" style="display: none;">
    <input type="file" id="proof-upload-input" accept=".png,.jpg,.jpeg,.pdf,.doc,.docx" style="display: none;">
    <input type="file" id="achievement-file-input" accept="image/*,.pdf" style="display: none;">
    <input type="file" id="document-file-input" accept=".pdf,.doc,.docx,.png,.jpg" style="display: none;">

    <!-- MODAL ADMIN (D√ÅN C√ÅI N√ÄY V√ÄO ƒê·ªÇ C√ì B·∫¢NG ADMIN) -->
        <div id="admin-modal" class="modal">
            <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
                <div class="modal-header">
                    <h2 class="modal-title">üëÆ Trung t√¢m Qu·∫£n tr·ªã</h2>
                    <button class="close-btn" id="close-admin-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- 1. Th·ªëng k√™ -->
                    <h3>1. Th·ªëng k√™</h3>
                    <div style="display:flex; gap:15px; margin-bottom:20px;">
                        <div class="stat-card" style="background:#e3f2fd; flex:1;"><h4>User</h4><b id="admin-total-users" style="font-size:1.5rem">0</b></div>
                        <div class="stat-card" style="background:#fff3e0; flex:1;"><h4>Tasks</h4><b id="admin-total-tasks" style="font-size:1.5rem">0</b></div>
                        <div class="stat-card" style="background:#e8f5e9; flex:1;"><h4>Online</h4><b id="admin-active-users" style="font-size:1.5rem">0</b></div>
                    </div>

                    <!-- 2. Danh s√°ch -->
                    <h3>2. Danh s√°ch User</h3>
                    <div class="proof-table-container" style="max-height:200px; overflow-y:auto; margin-bottom:20px;">
                        <table class="proof-table" style="width:100%">
                            <thead><tr><th>User</th><th>Email</th><th>H√†nh ƒë·ªông</th></tr></thead>
                            <tbody id="admin-user-list"></tbody>
                        </table>
                    </div>
                    
                    <!-- 3. Template -->
                    <h3>3. T·∫°o M·∫´u</h3>
                    <div style="display:flex; gap:10px; margin-bottom:10px;">
                        <input id="tpl-name" placeholder="T√™n m·∫´u..." style="flex:1; padding:8px;">
                        <button id="btn-create-template" class="btn-submit">T·∫°o</button>
                    </div>
                    <div id="template-list-container"></div>

                    <!-- 4. Tin nh·∫Øn -->
                    <h3 style="color: #e74c3c; margin-top:20px;">4. Tin nh·∫Øn</h3>
                    <div id="admin-msg-list" style="max-height:150px; overflow:auto; background:#fff5f5; padding:10px;"></div>

                    <!-- 5. Gallery -->
                    <h3 style="color: #2ecc71;">5. Upload ·∫¢nh (Link Drive)</h3>
                    <div style="display:flex; gap:10px; margin-bottom:10px;">
                        <input id="admin-gallery-link" placeholder="Link Drive..." style="flex:1; padding:8px;">
                        <input id="admin-gallery-caption" placeholder="Ch√∫ th√≠ch..." style="flex:1; padding:8px;">
                    </div>
                    <button id="btn-save-drive-img" class="btn-submit" style="width:100%; background:#2ecc71; border:none;">L∆∞u ·∫¢nh</button>
                    <div id="admin-gallery-list" style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:10px;"></div>
                </div>
            </div>
        </div>
    <!-- Container Th√¥ng b√°o g√≥c m√†n h√¨nh -->
    <div id="notification-container"></div>
    
    <!-- TH∆Ø VI·ªÜN JS -->
    <!-- Hi·ªáu ·ª©ng ph√°o gi·∫•y -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <!-- Quill Editor -->
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.0/dist/quill.min.js"></script>

    <!-- SCRIPT CH√çNH (MODULE) -->
    <!-- ƒê√¢y l√† n∆°i k·∫øt n·ªëi 5 file JS ch√∫ng ta s·∫Ω t·∫°o -->
    <script type="module" src="js/main.js"></script>

</body>
</html>