// ============================================================
// LOCALIZATION.JS - Vietnamese Language Support
// H·ªó tr·ª£ ti·∫øng Vi·ªát cho t·∫•t c·∫£ AI messages
// ============================================================

export const vi = {
    // ============================================================
    // GENERAL
    // ============================================================
    general: {
        loading: 'ƒêang t·∫£i...',
        error: 'C√≥ l·ªói x·∫£y ra',
        success: 'Th√†nh c√¥ng',
        cancel: 'H·ªßy',
        confirm: 'X√°c nh·∫≠n',
        save: 'L∆∞u',
        delete: 'X√≥a',
        edit: 'Ch·ªânh s·ª≠a',
        close: 'ƒê√≥ng',
        yes: 'C√≥',
        no: 'Kh√¥ng',
        ok: 'OK',
        back: 'Quay l·∫°i',
        next: 'Ti·∫øp theo',
        done: 'Ho√†n th√†nh',
        today: 'H√¥m nay',
        tomorrow: 'Ng√†y mai',
        yesterday: 'H√¥m qua',
        thisWeek: 'Tu·∫ßn n√†y',
        thisMonth: 'Th√°ng n√†y'
    },

    // ============================================================
    // PRIORITY
    // ============================================================
    priority: {
        critical: 'Kh·∫©n c·∫•p',
        high: 'Cao',
        medium: 'Trung b√¨nh',
        low: 'Th·∫•p'
    },

    // ============================================================
    // STATUS
    // ============================================================
    status: {
        pending: 'Ch·ªù x·ª≠ l√Ω',
        in_progress: 'ƒêang th·ª±c hi·ªán',
        completed: 'Ho√†n th√†nh',
        blocked: 'B·ªã ch·∫∑n',
        cancelled: 'ƒê√£ h·ªßy',
        overdue: 'Qu√° h·∫°n'
    },

    // ============================================================
    // AI SCHEDULER
    // ============================================================
    scheduler: {
        scheduleGenerated: 'ƒê√£ t·∫°o l·ªãch tr√¨nh',
        optimalTimeFound: 'ƒê√£ t√¨m th·ªùi ƒëi·ªÉm t·ªëi ∆∞u',
        noSlotsAvailable: 'Kh√¥ng c√≥ khung gi·ªù tr·ªëng',
        bufferAdded: 'ƒê√£ th√™m th·ªùi gian d·ª± ph√≤ng',
        conflictDetected: 'Ph√°t hi·ªán xung ƒë·ªôt l·ªãch',
        parallelTasksIdentified: 'ƒê√£ x√°c ƒë·ªãnh c√°c task c√≥ th·ªÉ l√†m song song',
        weeklyRhythm: {
            mondayStart: 'Kh·ªüi ƒë·ªông nh·∫π nh√†ng ƒë·∫ßu tu·∫ßn',
            midweekPeak: 'Gi·ªØa tu·∫ßn - nƒÉng su·∫•t cao nh·∫•t',
            fridayWrapup: 'Cu·ªëi tu·∫ßn - ho√†n t·∫•t c√¥ng vi·ªác',
            weekendRest: 'Cu·ªëi tu·∫ßn - ngh·ªâ ng∆°i'
        }
    },

    // ============================================================
    // BOTTLENECK
    // ============================================================
    bottleneck: {
        detected: 'Ph√°t hi·ªán ƒëi·ªÉm ngh·∫Ωn',
        overloaded: 'Qu√° t·∫£i',
        atRisk: 'C√≥ nguy c∆°',
        manageable: 'C√≥ th·ªÉ qu·∫£n l√Ω ƒë∆∞·ª£c',
        recommendation: 'ƒê·ªÅ xu·∫•t: xem x√©t l·∫°i deadline ho·∫∑c gi·∫£m kh·ªëi l∆∞·ª£ng c√¥ng vi·ªác',
        highUtilization: 'S·ª≠ d·ª•ng th·ªùi gian cao',
        criticalWarning: 'C·∫£nh b√°o nghi√™m tr·ªçng'
    },

    // ============================================================
    // FOCUS
    // ============================================================
    focus: {
        sessionStarted: 'B·∫Øt ƒë·∫ßu phi√™n t·∫≠p trung',
        sessionEnded: 'K·∫øt th√∫c phi√™n t·∫≠p trung',
        blockFound: 'ƒê√£ t√¨m ƒë∆∞·ª£c khung gi·ªù t·∫≠p trung',
        noBlockAvailable: 'Kh√¥ng c√≥ khung gi·ªù t·∫≠p trung ph√π h·ª£p',
        interrupted: 'Phi√™n t·∫≠p trung b·ªã gi√°n ƒëo·∫°n',
        perfectTime: 'Th·ªùi ƒëi·ªÉm ho√†n h·∫£o ƒë·ªÉ t·∫≠p trung',
        goodTime: 'Th·ªùi ƒëi·ªÉm t·ªët ƒë·ªÉ t·∫≠p trung',
        okTime: 'C√≥ th·ªÉ t·∫≠p trung ƒë∆∞·ª£c',
        notIdeal: 'Kh√¥ng ph·∫£i th·ªùi ƒëi·ªÉm l√Ω t∆∞·ªüng'
    },

    // ============================================================
    // VELOCITY
    // ============================================================
    velocity: {
        sprintStarted: 'B·∫Øt ƒë·∫ßu sprint m·ªõi',
        sprintEnded: 'K·∫øt th√∫c sprint',
        velocityUp: 'T·ªëc ƒë·ªô tƒÉng',
        velocityDown: 'T·ªëc ƒë·ªô gi·∫£m',
        velocityStable: 'T·ªëc ƒë·ªô ·ªïn ƒë·ªãnh',
        prediction: 'D·ª± ƒëo√°n ho√†n th√†nh',
        onTrack: 'ƒêang ƒë√∫ng ti·∫øn ƒë·ªô',
        behind: 'ƒêang ch·∫≠m ti·∫øn ƒë·ªô',
        ahead: 'ƒêang tr∆∞·ªõc ti·∫øn ƒë·ªô'
    },

    // ============================================================
    // DELAY SIMULATION
    // ============================================================
    delay: {
        simulating: 'ƒêang m√¥ ph·ªèng t√°c ƒë·ªông tr·ªÖ',
        cascadeEffect: 'Hi·ªáu ·ª©ng d√¢y chuy·ªÅn',
        tasksAffected: 'task b·ªã ·∫£nh h∆∞·ªüng',
        daysDelay: 'ng√†y tr·ªÖ',
        mitigationSuggested: 'ƒê·ªÅ xu·∫•t gi·∫£i ph√°p',
        highRisk: 'R·ªßi ro cao',
        mediumRisk: 'R·ªßi ro trung b√¨nh',
        lowRisk: 'R·ªßi ro th·∫•p'
    },

    // ============================================================
    // BURNOUT
    // ============================================================
    burnout: {
        riskDetected: 'Ph√°t hi·ªán nguy c∆° ki·ªát s·ª©c',
        lowRisk: 'Nguy c∆° th·∫•p - Ti·∫øp t·ª•c ph√°t huy!',
        moderateRisk: 'Nguy c∆° trung b√¨nh - Ch√∫ √Ω ngh·ªâ ng∆°i',
        highRisk: 'Nguy c∆° cao - C·∫ßn ngh·ªâ ng∆°i ngay',
        criticalRisk: 'Nguy c∆° nghi√™m tr·ªçng - D·ª´ng l·∫°i v√† ngh·ªâ ng∆°i!',
        indicators: {
            workHours: 'Gi·ªù l√†m vi·ªác qu√° nhi·ªÅu',
            weekendWork: 'L√†m vi·ªác cu·ªëi tu·∫ßn',
            skipBreaks: 'B·ªè qua gi·ªù ngh·ªâ',
            lateNights: 'L√†m khuya th∆∞·ªùng xuy√™n',
            taskOverload: 'Qu√° nhi·ªÅu task c√πng l√∫c'
        },
        recommendations: {
            takeBreak: 'Ngh·ªâ ng∆°i 15 ph√∫t',
            endEarly: 'K·∫øt th√∫c s·ªõm h√¥m nay',
            delegate: 'Giao b·ªõt task cho ng∆∞·ªùi kh√°c',
            reduceScope: 'Gi·∫£m ph·∫°m vi c√¥ng vi·ªác'
        }
    },

    // ============================================================
    // WORKLOAD
    // ============================================================
    workload: {
        balanced: 'Kh·ªëi l∆∞·ª£ng c√¥ng vi·ªác c√¢n b·∫±ng',
        high: 'Kh·ªëi l∆∞·ª£ng c√¥ng vi·ªác cao',
        overloaded: 'Qu√° t·∫£i',
        underutilized: 'Ch∆∞a t·∫≠n d·ª•ng h·∫øt nƒÉng l·ª±c',
        capacity: 'NƒÉng l·ª±c',
        utilizationRate: 'T·ªâ l·ªá s·ª≠ d·ª•ng',
        recommendation: {
            defer: 'N√™n ho√£n m·ªôt s·ªë task',
            delegate: 'N√™n giao b·ªõt cho ng∆∞·ªùi kh√°c',
            decline: 'C√≥ th·ªÉ t·ª´ ch·ªëi task m·ªõi',
            accept: 'C√≥ th·ªÉ nh·∫≠n th√™m c√¥ng vi·ªác'
        }
    },

    // ============================================================
    // WELLBEING
    // ============================================================
    wellbeing: {
        checkComplete: 'Ki·ªÉm tra s·ª©c kh·ªèe ho√†n t·∫•t',
        healthy: 'Tr·∫°ng th√°i t·ªët',
        needsAttention: 'C·∫ßn ch√∫ √Ω',
        critical: 'C·∫ßn h√†nh ƒë·ªông ngay',
        microBreakNeeded: 'ƒê·∫øn l√∫c ngh·ªâ ng·∫Øn',
        energyLow: 'NƒÉng l∆∞·ª£ng th·∫•p',
        energyPreservation: 'ƒêang ·ªü ch·∫ø ƒë·ªô ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng',
        suggestions: {
            walk: 'ƒêi b·ªô 5-10 ph√∫t',
            stretch: 'Gi√£n c∆° t·∫°i ch·ªó',
            hydrate: 'U·ªëng n∆∞·ªõc',
            eyeRest: 'Ngh·ªâ m·∫Øt 20 gi√¢y'
        }
    },

    // ============================================================
    // BOUNDARY
    // ============================================================
    boundary: {
        withinWorkHours: 'Trong gi·ªù l√†m vi·ªác',
        outsideWorkHours: 'Ngo√†i gi·ªù l√†m vi·ªác',
        afterHoursWarning: 'B·∫°n ƒëang l√†m vi·ªác ngo√†i gi·ªù',
        weekendWarning: 'ƒê√¢y l√† cu·ªëi tu·∫ßn, n√™n ngh·ªâ ng∆°i',
        violation: 'Vi ph·∫°m ranh gi·ªõi c√¥ng vi·ªác',
        meetingOverload: 'Qu√° nhi·ªÅu cu·ªôc h·ªçp',
        focusTimeProtected: 'ƒê√£ b·∫£o v·ªá th·ªùi gian t·∫≠p trung'
    },

    // ============================================================
    // RECOVERY
    // ============================================================
    recovery: {
        scheduled: 'ƒê√£ l√™n l·ªãch ngh·ªâ ng∆°i',
        breakNeeded: 'C·∫ßn ngh·ªâ ng∆°i',
        breakTaken: 'ƒê√£ ngh·ªâ ng∆°i',
        breakSkipped: 'ƒê√£ b·ªè qua gi·ªù ngh·ªâ',
        effectiveness: 'Hi·ªáu qu·∫£ ph·ª•c h·ªìi',
        suggestions: {
            shortBreak: 'Ngh·ªâ ng·∫Øn 5 ph√∫t',
            longBreak: 'Ngh·ªâ d√†i 15-20 ph√∫t',
            dayOff: 'N√™n ngh·ªâ ng√†y h√¥m nay',
            vacation: 'C·∫ßn k·ª≥ ngh·ªâ d√†i h∆°n'
        }
    },

    // ============================================================
    // TEAM
    // ============================================================
    team: {
        memberAdded: 'ƒê√£ th√™m th√†nh vi√™n',
        memberRemoved: 'ƒê√£ x√≥a th√†nh vi√™n',
        workloadEquity: 'Ph√¢n b·ªï c√¥ng vi·ªác c√¥ng b·∫±ng',
        imbalanced: 'M·∫•t c√¢n b·∫±ng',
        rebalanceNeeded: 'C·∫ßn ph√¢n b·ªï l·∫°i',
        skillMatch: 'Ph√π h·ª£p k·ªπ nƒÉng',
        handoffInitiated: 'ƒê√£ b·∫Øt ƒë·∫ßu b√†n giao',
        handoffComplete: 'Ho√†n t·∫•t b√†n giao',
        escalationNeeded: 'C·∫ßn escalate',
        dependencyBlocked: 'B·ªã ch·∫∑n b·ªüi dependency'
    },

    // ============================================================
    // ANALYTICS
    // ============================================================
    analytics: {
        reportGenerated: 'ƒê√£ t·∫°o b√°o c√°o',
        dailyReport: 'B√°o c√°o ng√†y',
        weeklyReport: 'B√°o c√°o tu·∫ßn',
        monthlyReport: 'B√°o c√°o th√°ng',
        productivity: {
            excellent: 'NƒÉng su·∫•t xu·∫•t s·∫Øc!',
            good: 'NƒÉng su·∫•t t·ªët',
            average: 'NƒÉng su·∫•t trung b√¨nh',
            needsImprovement: 'C·∫ßn c·∫£i thi·ªán'
        },
        trends: {
            increasing: 'ƒêang tƒÉng',
            decreasing: 'ƒêang gi·∫£m',
            stable: '·ªîn ƒë·ªãnh'
        },
        insights: {
            peakHours: 'Gi·ªù nƒÉng su·∫•t cao nh·∫•t c·ªßa b·∫°n',
            bestDay: 'Ng√†y nƒÉng su·∫•t nh·∫•t c·ªßa b·∫°n',
            suggestion: 'G·ª£i √Ω c·∫£i thi·ªán'
        }
    },

    // ============================================================
    // GOALS
    // ============================================================
    goals: {
        created: 'ƒê√£ t·∫°o m·ª•c ti√™u',
        completed: 'ƒê√£ ho√†n th√†nh m·ª•c ti√™u!',
        progress: 'Ti·∫øn ƒë·ªô',
        onTrack: 'ƒêang ƒë√∫ng h∆∞·ªõng',
        atRisk: 'C√≥ nguy c∆° tr·ªÖ',
        overdue: 'ƒê√£ qu√° h·∫°n',
        streakMaintained: 'Duy tr√¨ chu·ªói ng√†y!',
        streakBroken: 'Chu·ªói ng√†y ƒë√£ b·ªã gi√°n ƒëo·∫°n'
    },

    // ============================================================
    // CONTEXT
    // ============================================================
    context: {
        detected: 'ƒê√£ nh·∫≠n di·ªán ng·ªØ c·∫£nh',
        deepWork: 'Ch·∫ø ƒë·ªô l√†m vi·ªác s√¢u',
        collaborative: 'Ch·∫ø ƒë·ªô c·ªông t√°c',
        admin: 'Ch·∫ø ƒë·ªô qu·∫£n tr·ªã',
        planning: 'Ch·∫ø ƒë·ªô l√™n k·∫ø ho·∫°ch',
        review: 'Ch·∫ø ƒë·ªô review',
        breakMode: 'Ch·∫ø ƒë·ªô ngh·ªâ ng∆°i',
        energyLevel: {
            high: 'NƒÉng l∆∞·ª£ng cao',
            medium: 'NƒÉng l∆∞·ª£ng trung b√¨nh',
            low: 'NƒÉng l∆∞·ª£ng th·∫•p',
            declining: 'NƒÉng l∆∞·ª£ng ƒëang gi·∫£m'
        }
    },

    // ============================================================
    // GAMIFICATION
    // ============================================================
    gamification: {
        pointsEarned: 'ƒêi·ªÉm ƒë·∫°t ƒë∆∞·ª£c',
        levelUp: 'L√™n c·∫•p!',
        newBadge: 'Huy hi·ªáu m·ªõi!',
        streakBonus: 'Bonus chu·ªói ng√†y',
        achievementUnlocked: 'M·ªü kh√≥a th√†nh t√≠ch!',
        dailyChallenge: 'Th·ª≠ th√°ch ng√†y',
        challengeCompleted: 'Ho√†n th√†nh th·ª≠ th√°ch!',
        badges: {
            streak3: 'Chu·ªói 3 ng√†y',
            streak7: 'Chi·∫øn binh tu·∫ßn',
            streak14: 'Nh√† v√¥ ƒë·ªãch 2 tu·∫ßn',
            streak30: 'B·∫≠c th·∫ßy th√°ng',
            tasks10: 'Kh·ªüi ƒë·∫ßu',
            tasks50: 'B·∫≠c th·∫ßy task',
            tasks100: 'Centurion'
        }
    },

    // ============================================================
    // MOTIVATION
    // ============================================================
    motivation: {
        morning: {
            greeting: 'Ch√†o bu·ªïi s√°ng! S·∫µn s√†ng cho m·ªôt ng√†y hi·ªáu qu·∫£?',
            tip: 'L√†m vi·ªác quan tr·ªçng nh·∫•t khi nƒÉng l∆∞·ª£ng c√≤n cao'
        },
        afternoon: {
            greeting: 'Bu·ªïi chi·ªÅu t·ªët l√†nh!',
            tip: 'ƒê√¢y th∆∞·ªùng l√† l√∫c nƒÉng l∆∞·ª£ng gi·∫£m, ngh·ªâ ng·∫Øn n·∫øu c·∫ßn'
        },
        evening: {
            greeting: 'Bu·ªïi t·ªëi r·ªìi!',
            tip: 'T·ªïng k·∫øt ng√†y v√† l√™n k·∫ø ho·∫°ch cho ng√†y mai'
        },
        encouragement: {
            keepGoing: 'Ti·∫øp t·ª•c ph√°t huy!',
            almostThere: 'S·∫Øp xong r·ªìi!',
            greatJob: 'L√†m t·ªët l·∫Øm!',
            youGotThis: 'B·∫°n l√†m ƒë∆∞·ª£c!',
            welldone: 'Tuy·ªát v·ªùi!',
            impressive: '·∫§n t∆∞·ª£ng!',
            takeBreak: 'ƒê·∫øn l√∫c ngh·ªâ ng∆°i th√¥i'
        },
        affirmations: [
            'T√¥i c√≥ kh·∫£ nƒÉng ƒë·∫°t ƒë∆∞·ª£c m·ª•c ti√™u.',
            'M·ªói ng√†y t√¥i ƒë·ªÅu ti·∫øn b·ªô h∆°n.',
            'T√¥i t·∫≠p trung v√†o ti·∫øn tr√¨nh, kh√¥ng ph·∫£i s·ª± ho√†n h·∫£o.',
            'T√¥i ki·ªÉm so√°t ƒë∆∞·ª£c th·ªùi gian v√† nƒÉng l∆∞·ª£ng.',
            'T√¥i x·ª©ng ƒë√°ng ƒë∆∞·ª£c th√†nh c√¥ng.'
        ]
    },

    // ============================================================
    // NOTIFICATIONS
    // ============================================================
    notifications: {
        taskDue: 'Task s·∫Øp ƒë·∫øn h·∫°n',
        taskOverdue: 'Task ƒë√£ qu√° h·∫°n',
        reminderTitle: 'Nh·∫Øc nh·ªü',
        breakReminder: 'ƒê·∫øn gi·ªù ngh·ªâ ng∆°i',
        focusReminder: 'Gi·ªØ t·∫≠p trung!',
        meetingSoon: 'Cu·ªôc h·ªçp s·∫Øp b·∫Øt ƒë·∫ßu',
        goalProgress: 'C·∫≠p nh·∫≠t ti·∫øn ƒë·ªô m·ª•c ti√™u',
        achievementEarned: 'ƒê√£ nh·∫≠n th√†nh t√≠ch m·ªõi!'
    },

    // ============================================================
    // ERRORS
    // ============================================================
    errors: {
        taskNotFound: 'Kh√¥ng t√¨m th·∫•y task',
        memberNotFound: 'Kh√¥ng t√¨m th·∫•y th√†nh vi√™n',
        invalidDate: 'Ng√†y kh√¥ng h·ª£p l·ªá',
        noData: 'Kh√¥ng c√≥ d·ªØ li·ªáu',
        notEnoughData: 'Ch∆∞a ƒë·ªß d·ªØ li·ªáu',
        connectionFailed: 'K·∫øt n·ªëi th·∫•t b·∫°i',
        syncFailed: 'ƒê·ªìng b·ªô th·∫•t b·∫°i',
        saveFailed: 'L∆∞u th·∫•t b·∫°i',
        unknownError: 'L·ªói kh√¥ng x√°c ƒë·ªãnh'
    }
};

// ============================================================
// LOCALIZATION HELPER
// ============================================================

export class Localization {
    constructor(locale = 'vi') {
        this.locale = locale;
        this.translations = { vi };
    }

    /**
     * Get translation
     * @param {string} key - Key path like 'burnout.riskDetected'
     * @param {Object} params - Replacement params
     * @returns {string} Translated string
     */
    t(key, params = {}) {
        const keys = key.split('.');
        let value = this.translations[this.locale];

        for (const k of keys) {
            if (value && value[k] !== undefined) {
                value = value[k];
            } else {
                return key; // Return key if not found
            }
        }

        if (typeof value !== 'string') {
            return key;
        }

        // Replace parameters
        return value.replace(/\{(\w+)\}/g, (match, param) => {
            return params[param] !== undefined ? params[param] : match;
        });
    }

    /**
     * Set locale
     * @param {string} locale - Locale code
     */
    setLocale(locale) {
        if (this.translations[locale]) {
            this.locale = locale;
        }
    }

    /**
     * Get current locale
     * @returns {string} Current locale
     */
    getLocale() {
        return this.locale;
    }
}

// ============================================================
// SINGLETON
// ============================================================

export const localization = new Localization('vi');

export function t(key, params = {}) {
    return localization.t(key, params);
}

export function initLocalization(locale = 'vi') {
    localization.setLocale(locale);
    console.log(`üåê [Localization] Initialized with locale: ${locale}`);
    return localization;
}
