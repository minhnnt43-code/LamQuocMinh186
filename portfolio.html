<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√¢m Qu·ªëc Minh - Portfolio</title>

    <!-- SEO & Open Graph -->
    <meta name="description" content="H·ªì s∆° nƒÉng l·ª±c, th√†nh t√≠ch v√† ho·∫°t ƒë·ªông c·ªßa L√¢m Qu·ªëc Minh.">
    <meta property="og:title" content="L√¢m Qu·ªëc Minh - Portfolio">
    <meta property="og:image" content="https://placehold.co/600x400?text=LQM+Portfolio">
    <meta property="og:url" content="https://lamquocminh.id.vn/">
    <meta property="og:type" content="website">

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=UTM+Avo&display=swap" rel="stylesheet">

    <!-- Link CSS G·ªëc -->
    <link rel="stylesheet" href="style.css">

    <!-- CSS Ch√≠nh (File b·∫°n ƒë√£ t√°ch) -->
    <link rel="stylesheet" href="portfolio.css">

    <!-- CSS B·ªî SUNG: HI·ªÜU ·ª®NG WOW & GRADIENT (Theo y√™u c·∫ßu m·ªõi nh·∫•t) -->
    <style>
        :root {
            /* N√¢ng c·∫•p b·∫£ng m√†u l√™n Ultra Gradient */
            --grad-main: linear-gradient(135deg, #005B96 0%, #0088CC 50%, #FF7A00 100%);
            --grad-hover: linear-gradient(135deg, #FF7A00 0%, #FF9944 50%, #005B96 100%);
            --neon-glow: 0 0 15px rgba(0, 91, 150, 0.6), 0 0 30px rgba(255, 122, 0, 0.4);
        }

        /* --- 1. NH√ìM VISUAL: N·ªÄN & NOISE --- */
        body {
            /* N·ªÅn ƒë·ªông chuy·ªÉn m√†u */
            background: linear-gradient(-45deg, #ffffff, #f0f7ff, #fff5e6, #fff);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            cursor: none; /* ·∫®n chu·ªôt m·∫∑c ƒë·ªãnh ƒë·ªÉ d√πng Custom Cursor */
        }

        /* L·ªõp h·∫°t nhi·ªÖu (Noise) t·∫°o ch·∫•t li·ªáu gi·∫•y sang tr·ªçng */
        body::before {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none; z-index: 9000; opacity: 0.6; mix-blend-mode: multiply;
        }

        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        /* Thanh cu·ªôn Gradient */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #f9f9f9; }
        ::-webkit-scrollbar-thumb { background: var(--grad-main); border-radius: 10px; border: 3px solid #fff; }
        ::-webkit-scrollbar-thumb:hover { background: var(--grad-hover); }

        /* B√¥i ƒëen vƒÉn b·∫£n ra m√†u cam/tr·∫Øng */
        ::selection { background: var(--orange); color: #fff; text-shadow: 0 0 5px rgba(255,255,255,0.5); }

        /* --- 2. NH√ìM INTERACTIVE: TH·∫∫ & N√öT --- */
        .pf-card, .album-card, .timeline-content {
            box-shadow: 0 5px 20px rgba(0,91,150,0.05), inset 0 0 0 1px rgba(255,255,255,0.5);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s;
        }

        .pf-card:hover, .album-card:hover, .timeline-content:hover {
            transform: translateY(-10px) scale(1.01); /* N·ªïi l√™n 3D */
            box-shadow: 0 15px 35px rgba(0,91,150,0.2), 0 0 0 2px var(--orange); /* Vi·ªÅn s√°ng m√†u cam */
            z-index: 10;
        }

        /* Avatar: Th√™m hi·ªáu ·ª©ng s√≥ng (Ripple) */
        .hero-avatar { animation: float 6s ease-in-out infinite, pulse-avatar 3s infinite; }
        @keyframes pulse-avatar {
            0% { box-shadow: 0 0 0 0 rgba(0, 91, 150, 0.4); }
            70% { box-shadow: 0 0 0 20px rgba(0, 91, 150, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 91, 150, 0); }
        }

        /* Social Icons: Neon Glow khi hover */
        .social-icon:hover { box-shadow: var(--neon-glow) !important; transform: translateY(-5px) scale(1.1); }

        /* Menu: Glassmorphism Lvl 2 */
        .pf-tabs {
            background: rgba(255, 255, 255, 0.65) !important;
            backdrop-filter: blur(15px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        /* --- 3. NH√ìM LAYOUT & CHI TI·∫æT --- */
        .timeline-container::after { background: var(--grad-main) !important; }
        .timeline-node:hover::after { box-shadow: 0 0 15px var(--blue); transform: scale(1.4); }

        .project-progress-mini::after {
            background: repeating-linear-gradient(45deg, #005B96, #005B96 10px, #0088CC 10px, #0088CC 20px) !important;
            background-size: 200% 100%;
            animation: slideProgress 1.5s ease-out, candyStripe 2s linear infinite;
        }
        @keyframes candyStripe { to { background-position: 50px 0; } }

        input:focus, textarea:focus {
            border-color: var(--orange); box-shadow: 0 10px 20px -5px rgba(255, 122, 0, 0.2); transform: translateY(-2px);
        }

        /* --- 4. NH√ìM WOW FACTORS --- */
        /* Con tr·ªè chu·ªôt */
        #custom-cursor {
            width: 20px; height: 20px; border: 2px solid var(--blue); border-radius: 50%;
            position: fixed; pointer-events: none; z-index: 9999;
            transform: translate(-50%, -50%); transition: transform 0.1s; mix-blend-mode: difference;
        }
        #cursor-dot {
            width: 6px; height: 6px; background: var(--orange); border-radius: 50%;
            position: fixed; pointer-events: none; z-index: 10000; transform: translate(-50%, -50%);
        }
        .hovered-cursor { transform: translate(-50%, -50%) scale(2.5) !important; background: rgba(255,122,0,0.1); border-color: transparent !important; }

        /* M√†n h√¨nh ch·ªù */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 99999;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
            animation: fadeOutLoad 0.5s ease 2.2s forwards;
        }
        .loader-text { font-size: 2rem; font-weight: 900; background: var(--grad-main); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 20px; }
        .loader-bar { width: 150px; height: 3px; background: #eee; border-radius: 3px; overflow: hidden; }
        .loader-progress { width: 0%; height: 100%; background: var(--grad-main); animation: fillLoad 2s ease-in-out forwards; }
        @keyframes fillLoad { to { width: 100%; } }
        @keyframes fadeOutLoad { to { opacity: 0; visibility: hidden; } }

        /* Thanh ti·∫øn ƒë·ªô */
        #scroll-progress {
            position: fixed; top: 0; left: 0; height: 4px; background: var(--grad-main);
            z-index: 9999; width: 0%; transition: width 0.1s; box-shadow: 0 0 10px var(--orange);
        }

        /* Mobile */
        @media (max-width: 768px) { 
            #custom-cursor, #cursor-dot { display: none; } 
            body { cursor: auto; }
        }
    </style>
</head>

<!-- [MOBILE ONLY] THANH ƒêI·ªÄU H∆Ø·ªöNG APP (BOTTOM NAV) -->
    <div class="mobile-bottom-nav">
        <div class="nav-item active" onclick="switchTabMobile('tab-projects', this)">
            <div class="nav-icon">üöÄ</div>
            <span class="nav-label">D·ª± √°n</span>
        </div>
        <div class="nav-item" onclick="switchTabMobile('tab-achievements', this)">
            <div class="nav-icon">üèÜ</div>
            <span class="nav-label">Th√†nh t√≠ch</span>
        </div>
        <div class="nav-item" onclick="switchTabMobile('tab-timeline', this)">
            <div class="nav-icon">üö©</div>
            <span class="nav-label">Qu√° tr√¨nh</span>
        </div>
        <div class="nav-item" onclick="switchTabMobile('tab-schedule', this)">
            <div class="nav-icon">üìÖ</div>
            <span class="nav-label">L·ªãch</span>
        </div>
        <div class="nav-item" onclick="switchTabMobile('tab-guestbook', this)">
            <div class="nav-icon">üí¨</div>
            <span class="nav-label">Chia s·∫ª</span>
        </div>
    </div>

<body>
    <!-- 1. ƒê∆ØA CANVAS L√äN ƒê·∫¶U (ƒê·ªÉ l√†m n·ªÅn, kh√¥ng b·ªã l·ªói JS) -->
    <canvas id="confetti-canvas"></canvas>

    <!-- 2. ƒê∆ØA MENU CHU·ªòT PH·∫¢I V√ÄO TRONG BODY (ƒê·ªÉ hi·ªÉn th·ªã ƒë√∫ng) -->
    <div id="ctx-menu" class="ctx-menu">
        <div class="ctx-item" onclick="history.go(0)">üîÑ T·∫£i l·∫°i trang</div>
        <div class="ctx-item" onclick="window.scrollTo({top:0, behavior:'smooth'})">‚¨ÜÔ∏è L√™n ƒë·∫ßu trang</div>
        <div class="ctx-item" onclick="toggleDarkMode()">üåó ƒê·ªïi giao di·ªán</div>
        <div class="ctx-item" onclick="window.print()">üñ®Ô∏è In Portfolio</div>
        <div class="ctx-divider"></div>
        <div class="ctx-item" style="color:#ff4757;">‚ùå ƒê√≥ng menu</div>
    </div>
<body>

    <!-- C√ÅC TH√ÄNH PH·∫¶N WOW FACTORS (M√†n h√¨nh ch·ªù, Con tr·ªè chu·ªôt) -->
    <div id="preloader">
        <div class="loader-text">L√¢m Qu·ªëc Minh xin ch√†o b·∫°n...</div>
        <div class="loader-bar"><div class="loader-progress"></div></div>
    </div>
    <div id="scroll-progress"></div>
    <div id="custom-cursor"></div>
    <div id="cursor-dot"></div>

    <!-- [M·ªöI] MODAL: XEM CHI TI·∫æT ALBUM (STORY MODE) -->
    <div id="story-modal" class="appt-modal-overlay" onclick="document.getElementById('story-modal').style.display='none'">
        <div id="story-content-wrapper" class="lightbox-story-container" onclick="event.stopPropagation()"></div>
    </div>

    <!-- [M·ªöI] G√ìI A: MENU ƒêI·ªÄU KHI·ªÇN & TH√îNG B√ÅO -->
    
    <!-- 1. H·ªá th·ªëng th√¥ng b√°o (Toast) -->
    <div id="toast-container"></div>

    <!-- 2. FAB Menu (N√∫t ƒëi·ªÅu khi·ªÉn n·ªïi) -->
    <div class="fab-wrapper">
        <div class="fab-items" id="fab-items">
            <!-- N√∫t l√™n ƒë·∫ßu trang -->
            <button onclick="window.scrollTo({top:0, behavior:'smooth'})" class="fab-btn-child" title="L√™n ƒë·∫ßu trang">‚¨ÜÔ∏è</button>
            <!-- N√∫t Admin -->
            <a href="baotri.html" class="fab-btn-child" title="Admin">‚öôÔ∏è</a>
            <!-- N√∫t QR -->
            <button onclick="toggleQR(true)" class="fab-btn-child" title="M√£ QR">üì±</button>
            <!-- N√∫t ƒê·ªïi Ng√¥n Ng·ªØ -->
            <button onclick="toggleLanguage()" class="fab-btn-child" title="ƒê·ªïi ng√¥n ng·ªØ"><span id="lang-icon">üáªüá≥</span></button>
            <!-- N√∫t Dark Mode -->
            <button onclick="toggleDarkMode()" class="fab-btn-child" title="Giao di·ªán T·ªëi/S√°ng" id="dark-mode-btn">üåô</button>
        </div>
        <!-- N√∫t ch√≠nh -->
        <button class="fab-main-btn" onclick="toggleFabMenu()">
            <span id="fab-icon">‚ûï</span>
        </button>
    </div>

    <!-- 1. HERO SECTION -->
    <section class="hero-section">
        <img src="https://placehold.co/150x150" alt="Avatar" class="hero-avatar" id="pf-avatar">
        <h1 class="hero-title" id="pf-name" title="B·∫•m v√†o ƒë·ªÉ s·ª≠a t√™n b·∫°n">Ch√†o b·∫°n!</h1>

        <div class="info-chips">
            <!-- JS s·∫Ω ƒëi·ªÅn th√¥ng tin v√†o ƒë√¢y -->
        </div>

        <p class="hero-subtitle">
            Ch√†o m·ª´ng ƒë·∫øn v·ªõi kh√¥ng gian l√†m vi·ªác s·ªë c·ªßa t√¥i.
        </p>

        <div class="social-bar">
            <!-- [ƒê·ª¢T 1] TR·∫†NG TH√ÅI L√ÄM VI·ªÜC CUTE -->
        <div id="working-status" class="status-pill">
            <span class="status-dot-dynamic"></span>
            <span id="working-text">ƒêang check l·ªãch...</span>
        </div>
             <a href="https://www.facebook.com/lamquocminh18" class="social-icon" title="Facebook: L√¢m Qu·ªëc Minh" target="_blank">
                <svg viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
            </a>
            <a href="https://zalo.me/0899012608" class="social-icon" title="Zalo/SƒêT: 0899012608" target="_blank">
                <svg viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
            </a>
            <a href="mailto:minhlq23504b@st.uel.edu.vn" class="social-icon" title="Email">
                <svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
            </a>
            <button class="social-icon" onclick="toggleQR(true)" title="Qu√©t m√£ QR">
                <svg viewBox="0 0 24 24"><path d="M3 3h6v6H3V3zm2 2v2h2V5H5zm8-2h6v6h-6V3zm2 2v2h2V5h-2zM3 13h6v6H3v-6zm2 2v2h2v-2H5zm13-2h3v2h-3v-2zm-3 2h2v2h-2v-2zm3 2h3v2h-3v-2zM13 3h2v2h-2V3zm0 4h2v2h-2V7zm0 10h2v2h-2v-2zm-3-4h6v2h-6v-2zm10-4h2v2h-2V9z"></path></svg>
            </button>
        </div>
    </section>

    <!-- 2. TAB NAVIGATION -->
    <div class="pf-tabs">
        <button class="pf-tab-btn active" onclick="switchTab('tab-projects')">üöÄ D·ª± √°n</button>
        <button class="pf-tab-btn" onclick="switchTab('tab-achievements')">üèÜ Th√†nh t√≠ch</button>
        <button class="pf-tab-btn" onclick="switchTab('tab-timeline')">üö© Qu√° tr√¨nh</button>
        <button class="pf-tab-btn" onclick="switchTab('tab-schedule')">üìÖ L·ªãch tr√¨nh</button>
        <button class="pf-tab-btn" onclick="switchTab('tab-album')">üì∏ Kho·∫£nh kh·∫Øc</button>
        <button class="pf-tab-btn" onclick="switchTab('tab-guestbook')">üí¨ Chia s·∫ª</button>
    </div>

    <!-- 3. TAB CONTENTS -->
    <div style="max-width: 1100px; margin: 0 auto; padding: 20px;">

        <!-- TAB 1: D·ª∞ √ÅN -->
        <div id="tab-projects" class="pf-tab-content active">
            <!-- [G√ìI B] THANH C√îNG C·ª§ D·ª∞ √ÅN (SEARCH & FILTER) -->
        <div class="project-toolbar-wrapper">
            <!-- √î t√¨m ki·∫øm -->
            <div class="search-box">
                <span class="search-icon">üîç</span>
                <input type="text" id="project-search" placeholder="T√¨m t√™n d·ª± √°n, c√¥ng ngh·ªá..." onkeyup="handleSearch()">
            </div>
            
            <!-- B·ªô l·ªçc -->
            <div class="filter-group">
                <button class="filter-pill active" onclick="filterProjects('all', this)">T·∫•t c·∫£</button>
                <button class="filter-pill" onclick="filterProjects('web', this)">Website</button>
                <button class="filter-pill" onclick="filterProjects('app', this)">·ª®ng d·ª•ng</button>
                <button class="filter-pill" onclick="filterProjects('design', this)">Thi·∫øt k·∫ø</button>
            </div>
        </div>

        <!-- Skeleton Loading (·∫®n m·∫∑c ƒë·ªãnh, hi·ªán khi ƒëang t√¨m) -->
        <div id="project-skeleton" style="display:none;" class="pf-year-grid">
            <div class="pf-card skeleton-card"></div>
            <div class="pf-card skeleton-card"></div>
            <div class="pf-card skeleton-card"></div>
        </div>
            <div id="pf-projects"></div>
        </div>

        <!-- [ƒê·ª¢T 3] GLITCH 404 (Hi·ªán khi kh√¥ng t√¨m th·∫•y d·ª± √°n) -->
        <div id="no-result-glitch" style="display:none; text-align:center; padding:50px;">
            <h2 class="glitch-text" data-text="404 NOT FOUND">404 NOT FOUND</h2>
            <p style="color:#666;">Kh√¥ng t√¨m th·∫•y d·ª± √°n n√†o kh·ªõp v·ªõi t·ª´ kh√≥a n√†y...</p>
            <button onclick="resetSearch()" class="ach-filter-btn" style="margin-top:20px;">üîÑ Th·ª≠ l·∫°i</button>
        </div>

        <!-- TAB 2: TH√ÄNH T√çCH -->
        <div id="tab-achievements" class="pf-tab-content">
            <div class="ach-filter-bar">
                <button class="ach-filter-btn active" onclick="filterAchievements('all')">T·∫•t c·∫£</button>
                <button class="ach-filter-btn" onclick="filterAchievements('academic')">H·ªçc t·∫≠p</button>
                <button class="ach-filter-btn" onclick="filterAchievements('social')">Ho·∫°t ƒë·ªông</button>
                <button class="ach-filter-btn" onclick="filterAchievements('award')">Khen th∆∞·ªüng</button>
            </div>
            <div id="pf-achievements"></div>
        </div>

        <!-- TAB 3: L·ªò TR√åNH (Ziczac) -->
        <div id="tab-timeline" class="pf-tab-content">
            <div class="timeline-container">
                <div id="pf-timeline"></div>
            </div>
        </div>

        <!-- TAB 4: L·ªäCH TR√åNH (Calendar & Appointment) -->
        <div id="tab-schedule" class="pf-tab-content">
            <div class="month-selector" id="month-selector"></div>

            <div class="calendar-layout">
                <!-- C·ªôt tr√°i: Ti√™u ƒëi·ªÉm & ƒê·∫∑t h·∫πn -->
                <div class="focus-panel">
                    <h3 style="margin-top:0; border-bottom:1px solid #eee; padding-bottom:10px;">üî• Ho·∫°t ƒë·ªông c·ªßa m√¨nh</h3>
                    <div id="focus-list">
                        <p style="color:#999; font-style:italic;">Ch·ªçn m·ªôt ng√†y ƒë·ªÉ xem chi ti·∫øt.</p>
                    </div>
                    <!-- N√∫t ƒê·∫∑t h·∫πn -->
                    <div style="margin-top:20px;">
                        <button class="btn-submit" disabled>üëà Ch·ªçn ng√†y tr∆∞·ªõc</button>
                    </div>
                </div>

                <!-- C·ªôt ph·∫£i: L·ªãch chi ti·∫øt -->
                <div class="calendar-grid-panel">
                    <h3 id="calendar-month-title" style="margin-top:0;">Th√°ng ...</h3>
                    <div id="pf-calendar-grid" style="display:grid; grid-template-columns: repeat(7, 1fr); gap:5px; text-align:center;">
                        <!-- JS Render Grid L·ªãch -->
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 5: ALBUM -->
        <div id="tab-album" class="pf-tab-content">
            <div id="pf-album-container"></div>
        </div>

        <!-- TAB 6: GUESTBOOK -->
        <div id="tab-guestbook" class="pf-tab-content">
            <div style="max-width:600px; margin:0 auto;" class="pf-card">
                <div style="padding:25px;">
                    <h3 style="margin-top:0;">B·∫°n c√≥ ƒëi·ªÅu g√¨ mu·ªën n√≥i v·ªõi m√¨nh</h3>
                    <input type="text" id="guest-name" placeholder="T√™n c·ªßa b·∫°n l√†...">
                    <textarea id="guest-msg" placeholder="ƒêi·ªÅu b·∫°n mu·ªën chia s·∫ª l√†..." style="height:100px; resize:none;"></textarea>
                    <button id="btn-send-msg" style="width:100%; margin-top:10px;">G·ª≠i ƒëi üöÄ</button>
                </div>
            </div>
            <div id="message-wall" style="margin-top:30px; display:grid; gap:15px; max-width:600px; margin-left:auto; margin-right:auto;"></div>
        </div>
    </div>

    <!-- FOOTER -->
    <!-- [ƒê·ª¢T 1] FOOTER N√ÇNG C·∫§P -->
    <footer style="text-align:center; padding:50px 20px; margin-top:60px; background:linear-gradient(to bottom, #fff, #f9f9f9); border-top: 1px solid #eee;">
        
        <!-- Smart Email Copy -->
        <p style="color:#666; margin-bottom:5px;">Li√™n h·ªá c√¥ng vi·ªác:</p>
        <div class="smart-email" onclick="copyEmailToClipboard()" title="B·∫•m ƒë·ªÉ copy">
            <h3 id="pf-email-display">minhlq23504b@st.uel.edu.vn</h3>
            <span class="copy-hint">üìã B·∫•m ƒë·ªÉ sao ch√©p</span>
        </div>

        <!-- N√∫t th·∫£ tim (ƒê√£ l√†m ·ªü G√≥i D - Gi·ªØ nguy√™n v·ªã tr√≠ n√†y) -->
        <div style="margin-top: 20px;">
            <p style="font-size: 0.9rem; color: #888;">Th√≠ch portfolio n√†y kh√¥ng?</p>
            <button id="btn-global-like" onclick="triggerLike()">‚ù§Ô∏è Th·∫£ tim</button>
            <div id="like-count" style="font-size: 0.8rem; color: #aaa; margin-top: 5px;">81 ng∆∞·ªùi ƒë√£ th√≠ch</div>
        </div>

        <!-- System Info Row -->
        <div class="system-info-row">
            <div class="sys-item">
                <span class="server-dot"></span> Server: <span style="color:#2e7d32; font-weight:bold;">Online</span>
            </div>
            <div class="sys-item">
                üëÄ L∆∞·ª£t truy c·∫≠p: <span id="visitor-count">...</span>
            </div>
        </div>

        <!-- Copyright -->
        <p style="color:#999; font-size:0.8rem; margin-top:30px;">&copy; L√¢m Qu·ªëc Minh - Sinh vi√™n Tr∆∞·ªùng ƒê·∫°i h·ªçc Kinh t·∫ø - Lu·∫≠t.</p>
        
        <!-- [QUAN TR·ªåNG] Credit Google AI Studio -->
        <p class="ai-credit">‚ú® To√†n b·ªô c√°i n√†y do <span class="ai-highlight">Google AI Studio</span> code ‚ú®</p>
    </footer>

    <!-- MODAL: ƒê·∫∂T H·∫∏N -->
    <div id="appt-modal" class="appt-modal-overlay" onclick="closeApptModal()">
        <div class="appt-modal" onclick="event.stopPropagation()">
            <button class="appt-close" onclick="closeApptModal()">&times;</button>
            <h2 style="color:var(--blue); text-align:center; margin-top:0;">ƒê·∫∑t l·ªãch h·∫πn</h2>
            <p style="text-align:center; color:#666; font-size:0.9rem; margin-bottom:20px;">ƒêi·ªÅn ƒëi·ªÅn th√¥ng tin th·∫≠t chi ti·∫øt, m√¨nh s·∫Ω ph·∫£n h·ªìi nhanh nh·∫•t cho b·∫°n.</p>
            <div class="form-group">
                <label style="display:block; font-weight:bold; margin-bottom:5px;">T√™n c·ªßa b·∫°n l√†</label>
                <input type="text" id="appt-name">
            </div>
            <div class="form-group">
                <label style="display:block; font-weight:bold; margin-bottom:5px;">Email li√™n h·ªá</label>
                <input type="email" id="appt-email">
            </div>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px;">
                <div>
                    <label style="display:block; font-weight:bold; margin-bottom:5px;">Th·ªùi gian b·∫°n mu·ªën g·∫∑p?</label>
                    <input type="date" id="appt-date" readonly style="background:#f9f9f9;">
                </div>
                <div>
                    <label style="display:block; font-weight:bold; margin-bottom:5px;">V√†o l√∫c?</label>
                    <input type="time" id="appt-time">
                </div>
            </div>
            <div class="form-group">
                <label style="display:block; font-weight:bold; margin-bottom:5px;">N·ªôi dung c·ªßa cu·ªôc g·∫∑p</label>
                <textarea id="appt-reason" style="height:80px;"></textarea>
            </div>
            <button id="btn-submit-appt" class="btn-submit">G·ª≠i y√™u c·∫ßu</button>
        </div>
    </div>

    <!-- HELPER: QR & Lightbox -->
    <div id="qr-overlay" class="qr-modal-overlay" onclick="toggleQR(false)">
        <div class="qr-card" onclick="event.stopPropagation()" style="background:#fff; padding:30px; border-radius:20px; text-align:center; box-shadow:0 20px 50px rgba(0,0,0,0.3);">
            <h3 style="margin-top:0;">Qu√©t m√£ tr√™n ƒëi·ªán tho·∫°i</h3>
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://lamquocminh.id.vn/" style="margin:20px 0; border-radius:10px;">
            <button onclick="toggleQR(false)" class="btn-submit">ƒê√≥ng</button>
        </div>
    </div>

    <!-- [G√ìI C] LIGHTBOX PRO (ƒê√£ n√¢ng c·∫•p) -->
    <div id="lightbox-modal" class="lightbox-overlay" onclick="closeLightbox()">
        <!-- N√∫t ƒë√≥ng -->
        <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
        
        <!-- N√∫t ƒëi·ªÅu h∆∞·ªõng -->
        <button class="lightbox-nav prev" onclick="event.stopPropagation(); changeLightboxSlide(-1)">&#10094;</button>
        <button class="lightbox-nav next" onclick="event.stopPropagation(); changeLightboxSlide(1)">&#10095;</button>
        
        <!-- N·ªôi dung ·∫£nh -->
        <div class="lightbox-content" onclick="event.stopPropagation()">
            <img id="lightbox-img" src="" style="transition: transform 0.3s ease;">
            
            <!-- Thanh c√¥ng c·ª• m·ªõi -->
            <div class="lightbox-toolbar">
                <button onclick="zoomImage(0.2)" title="Ph√≥ng to">üîç+</button>
                <button onclick="zoomImage(-0.2)" title="Thu nh·ªè">üîç-</button>
                <button onclick="rotateImage(90)" title="Xoay ·∫£nh">üîÑ</button>
                <button onclick="resetImage()" title="M·∫∑c ƒë·ªãnh">I</button>
                <button onclick="downloadCurrentImage()" title="T·∫£i ·∫£nh">‚¨áÔ∏è</button>
            </div>
            
            <div id="lightbox-caption" style="color:#fff; margin-top:15px; font-size:1.1rem; text-shadow: 0 2px 5px rgba(0,0,0,0.5);"></div>
        </div>
    </div>

    <button id="btn-scroll-top" onclick="window.scrollTo({top:0, behavior:'smooth'})" title="L√™n ƒë·∫ßu trang">‚¨ÜÔ∏è</button>

    <!-- Script -->
    <script type="module" src="js/portfolio.js"></script>

    <!-- Script cho Tab & Modal -->
    <script>
        function switchTab(tabId) {
            document.querySelectorAll('.pf-tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.pf-tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            const btns = document.querySelectorAll('.pf-tab-btn');
            btns.forEach(btn => { if (btn.getAttribute('onclick').includes(tabId)) btn.classList.add('active'); });
            if (window.scrollY > 400) document.querySelector('.pf-tabs').scrollIntoView({ behavior: 'smooth' });
        }
        function openApptModal() { document.getElementById('appt-modal').style.display = 'flex'; }
        function closeApptModal() { document.getElementById('appt-modal').style.display = 'none'; }

        /* --- SCRIPT CHO HI·ªÜU ·ª®NG WOW --- */
        const cursor = document.getElementById('custom-cursor');
        const cursorDot = document.getElementById('cursor-dot');

        if (window.matchMedia("(min-width: 769px)").matches) {
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
                cursorDot.style.left = e.clientX + 'px';
                cursorDot.style.top = e.clientY + 'px';
            });
            // Hi·ªáu ·ª©ng hover
            document.querySelectorAll('a, button, .pf-card, .album-card, input').forEach(el => {
                el.addEventListener('mouseenter', () => cursor.classList.add('hovered-cursor'));
                el.addEventListener('mouseleave', () => cursor.classList.remove('hovered-cursor'));
            });
        }

        // Scroll Progress Logic
        window.addEventListener('scroll', () => {
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (scrollTop / scrollHeight) * 100;
            document.getElementById('scroll-progress').style.width = scrolled + "%";
        });
        /* =========================================
       SCRIPT G√ìI A: INTERACTIVE LOGIC
       ========================================= */

    // 1. Logic FAB Menu (Bung ra / Thu v√†o)
    function toggleFabMenu() {
        document.querySelector('.fab-wrapper').classList.toggle('active');
    }

    // 2. Logic Toast Notification (Hi·ªán th√¥ng b√°o)
    function showToast(msg, type = 'info') {
        const container = document.getElementById('toast-container');
        const toast = document.createElement('div');
        toast.className = `toast-msg ${type}`;
        // Ch·ªçn icon d·ª±a tr√™n lo·∫°i th√¥ng b√°o
        const icon = type === 'success' ? '‚úÖ' : 'üîî';
        toast.innerHTML = `<span>${icon}</span> <span>${msg}</span>`;
        container.appendChild(toast);
        // T·ª± x√≥a sau 3 gi√¢y
        setTimeout(() => toast.remove(), 3000);
    }

    // 3. Logic Dark Mode (L∆∞u v√†o LocalStorage)
    function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        const isDark = document.body.classList.contains('dark-mode');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        
        // ƒê·ªïi icon n√∫t
        document.getElementById('dark-mode-btn').textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
        showToast(isDark ? 'ƒê√£ b·∫≠t Giao di·ªán T·ªëi' : 'ƒê√£ b·∫≠t Giao di·ªán S√°ng', 'success');
    }

    // Ki·ªÉm tra theme khi t·∫£i trang
    if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
        document.getElementById('dark-mode-btn').textContent = '‚òÄÔ∏è';
    }

    // 4. Logic ƒêa Ng√¥n Ng·ªØ (Anh / Vi·ªát) - D·ªØ li·ªáu d·ªãch
    const i18n = {
        vi: {
            hello: "Ch√†o m·ª´ng ƒë·∫øn v·ªõi kh√¥ng gian l√†m vi·ªác s·ªë c·ªßa t√¥i.",
            projects: "üöÄ D·ª± √°n", achievements: "üèÜ Th√†nh t√≠ch", timeline: "üö© Qu√° tr√¨nh", 
            schedule: "üìÖ L·ªãch tr√¨nh", album: "üì∏ Kho·∫£nh kh·∫Øc", guestbook: "üí¨ Chia s·∫ª"
        },
        en: {
            hello: "Welcome to my digital workspace.",
            projects: "üöÄ Projects", achievements: "üèÜ Awards", timeline: "üö© Journey", 
            schedule: "üìÖ Schedule", album: "üì∏ Moments", guestbook: "üí¨ Guestbook"
        }
    };
    
    let currentLang = 'vi';
    function toggleLanguage() {
        currentLang = currentLang === 'vi' ? 'en' : 'vi';
        const langData = i18n[currentLang];
        
        // C·∫≠p nh·∫≠t text tr√™n giao di·ªán (V√≠ d·ª• c∆° b·∫£n)
        document.querySelector('.hero-subtitle').textContent = langData.hello;
        
        // C·∫≠p nh·∫≠t c√°c Tab
        const tabs = document.querySelectorAll('.pf-tab-btn');
        tabs[0].textContent = langData.projects;
        tabs[1].textContent = langData.achievements;
        tabs[2].textContent = langData.timeline;
        tabs[3].textContent = langData.schedule;
        tabs[4].textContent = langData.album;
        tabs[5].textContent = langData.guestbook;

        // ƒê·ªïi c·ªù
        document.getElementById('lang-icon').textContent = currentLang === 'vi' ? 'üáªüá≥' : 'üá¨üáß';
        showToast(`ƒê√£ chuy·ªÉn sang ${currentLang === 'vi' ? 'Ti·∫øng Vi·ªát' : 'English'}`, 'info');
    }
    /* =========================================
       SCRIPT G√ìI B: SEARCH & FILTER LOGIC
       ========================================= */
    
    // Gi·∫£ l·∫≠p g√°n category cho c√°c d·ª± √°n (V√¨ d·ªØ li·ªáu hi·ªán t·∫°i ch∆∞a c√≥)
    // Khi ch·∫°y th·∫≠t b·∫°n c√≥ th·ªÉ x√≥a h√†m n√†y v√† g√°n c·ª©ng trong HTML
    function initProjectData() {
        const projects = document.querySelectorAll('.pf-card.project-style');
        const categories = ['web', 'app', 'design'];
        
        projects.forEach(card => {
            // Random category n·∫øu ch∆∞a c√≥
            if (!card.getAttribute('data-cat')) {
                const randomCat = categories[Math.floor(Math.random() * categories.length)];
                card.setAttribute('data-cat', randomCat);
                
                // Th√™m m·ªôt c√°i tag nh·ªè v√†o card ƒë·ªÉ ng∆∞·ªùi xem bi·∫øt n√≥ l√† lo·∫°i g√¨
                const header = card.querySelector('.project-header');
                const badge = document.createElement('span');
                badge.className = 'status-badge';
                badge.style.marginLeft = 'auto';
                badge.style.fontSize = '0.6rem';
                badge.textContent = randomCat.toUpperCase();
                // header.appendChild(badge); // B·ªè comment d√≤ng n√†y n·∫øu mu·ªën hi·ªán tag l√™n
            }
        });
    }

    // H√†m l·ªçc d·ª± √°n
    function filterProjects(category, btn) {
        // 1. Active n√∫t b·∫•m
        document.querySelectorAll('.filter-pill').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        // 2. Hi·ªán Skeleton gi·∫£ v·ªù ƒëang t·∫£i (Hi·ªáu ·ª©ng Pro)
        const grid = document.getElementById('pf-projects'); // ID container d·ª± √°n c≈© c·ªßa b·∫°n
        const skeleton = document.getElementById('project-skeleton');
        
        grid.style.display = 'none';
        skeleton.style.display = 'grid'; // Hi·ªán khung x∆∞∆°ng

        setTimeout(() => {
            skeleton.style.display = 'none';
            grid.style.display = 'grid'; // Hi·ªán l·∫°i d·ª± √°n
            
            // 3. Logic ·∫©n hi·ªán
            const projects = document.querySelectorAll('.pf-card.project-style');
            projects.forEach(card => {
                const cardCat = card.getAttribute('data-cat');
                if (category === 'all' || cardCat === category) {
                    card.style.display = 'flex';
                    // Hi·ªáu ·ª©ng Fade in
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 50);
                } else {
                    card.style.display = 'none';
                }
            });
        }, 600); // Ch·ªù 0.6s cho ƒë·∫πp
    }

    // H√†m t√¨m ki·∫øm
    function handleSearch() {
        const keyword = document.getElementById('project-search').value.toLowerCase();
        const projects = document.querySelectorAll('.pf-card.project-style');
        
        projects.forEach(card => {
            const title = card.querySelector('h3').innerText.toLowerCase();
            const desc = card.querySelector('p').innerText.toLowerCase();
            
            if (title.includes(keyword) || desc.includes(keyword)) {
                card.style.display = 'flex';
            } else {
                card.style.display = 'none';
            }
        });
    }

    // Ch·∫°y kh·ªüi t·∫°o d·ªØ li·ªáu gi·∫£ l·∫≠p (ƒë·ªÉ test)
    // ƒê·ª£i 1s ƒë·ªÉ ƒë·∫£m b·∫£o JS c≈© ƒë√£ render xong d·ª± √°n r·ªìi m·ªõi g·∫Øn category
    setTimeout(initProjectData, 1500);
    /* =========================================
       SCRIPT G√ìI C: LIGHTBOX LOGIC & SHORTCUTS
       ========================================= */

    // Bi·∫øn l∆∞u tr·∫°ng th√°i Zoom/Rotate
    let currentScale = 1;
    let currentRotation = 0;

    // 1. H√†m Zoom ·∫£nh
    function zoomImage(amount) {
        currentScale += amount;
        if (currentScale < 0.5) currentScale = 0.5; // Kh√¥ng cho nh·ªè qu√°
        if (currentScale > 3) currentScale = 3;     // Kh√¥ng cho to qu√°
        updateImageTransform();
    }

    // 2. H√†m Xoay ·∫£nh
    function rotateImage(deg) {
        currentRotation += deg;
        updateImageTransform();
    }

    // 3. Reset v·ªÅ m·∫∑c ƒë·ªãnh
    function resetImage() {
        currentScale = 1;
        currentRotation = 0;
        updateImageTransform();
    }

    // C·∫≠p nh·∫≠t CSS
    function updateImageTransform() {
        const img = document.getElementById('lightbox-img');
        if(img) {
            img.style.transform = `scale(${currentScale}) rotate(${currentRotation}deg)`;
        }
    }
    
    // 4. H√†m t·∫£i ·∫£nh v·ªÅ (Logic t·ª± ƒë·ªông)
    function downloadCurrentImage() {
        const img = document.getElementById('lightbox-img');
        const link = document.createElement('a');
        link.href = img.src;
        link.download = 'Portfolio_Image.jpg';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        showToast('ƒêang t·∫£i ·∫£nh xu·ªëng...', 'success'); // D√πng l·∫°i Toast c·ªßa G√≥i A
    }

    // Reset khi ƒë√≥ng Lightbox
    // (Ghi ƒë√® h√†m closeLightbox c≈© ho·∫∑c b·∫°n th√™m d√≤ng resetImage() v√†o h√†m c≈©)
    const oldCloseLightbox = window.closeLightbox || function(){ document.getElementById('lightbox-modal').style.display = 'none'; };
    window.closeLightbox = function() {
        oldCloseLightbox(); // G·ªçi h√†m c≈© ƒë·ªÉ ƒë√≥ng modal
        setTimeout(resetImage, 300); // Reset tr·∫°ng th√°i sau khi ƒë√≥ng
    };

    /* --- PH√çM T·∫ÆT B√ÄN PH√çM (KEYBOARD SHORTCUTS) --- */
    document.addEventListener('keydown', function(e) {
        // Ph√≠m ESC: ƒê√≥ng m·ªçi Modal
        if (e.key === 'Escape') {
            closeLightbox();
            closeApptModal();
            document.getElementById('story-modal').style.display = 'none';
            document.querySelector('.fab-wrapper').classList.remove('active');
        }

        // Ph√≠m M≈©i t√™n Tr√°i/Ph·∫£i: Chuy·ªÉn ·∫£nh trong Lightbox
        if (document.getElementById('lightbox-modal').style.display === 'flex') {
            if (e.key === 'ArrowLeft') changeLightboxSlide(-1);
            if (e.key === 'ArrowRight') changeLightboxSlide(1);
            if (e.key === 'ArrowUp') zoomImage(0.1);
            if (e.key === 'ArrowDown') zoomImage(-0.1);
        }
    });

    // T·ª± ƒë·ªông th√™m n√∫t Copy cho th·∫ª <pre> (N·∫øu sau n√†y b·∫°n vi·∫øt blog)
    document.querySelectorAll('pre').forEach(pre => {
        const btn = document.createElement('button');
        btn.className = 'copy-btn';
        btn.innerText = 'Copy';
        btn.onclick = () => {
            const code = pre.querySelector('code') ? pre.querySelector('code').innerText : pre.innerText;
            navigator.clipboard.writeText(code);
            btn.innerText = 'Copied!';
            showToast('ƒê√£ sao ch√©p m√£!', 'success');
            setTimeout(() => btn.innerText = 'Copy', 2000);
        };
        pre.appendChild(btn);
    });
    /* =========================================
       SCRIPT G√ìI D: CONFETTI & LIKE LOGIC
       ========================================= */

    // 1. H√†m B·∫Øn Ph√°o Gi·∫•y (Confetti Engine)
    const confettiCanvas = document.getElementById('confetti-canvas');
    const ctx = confettiCanvas.getContext('2d');
    let confettiParticles = [];

    // T·ª± ƒë·ªông ch·ªânh k√≠ch th∆∞·ªõc canvas theo m√†n h√¨nh
    function resizeCanvas() {
        confettiCanvas.width = window.innerWidth;
        confettiCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function createConfetti() {
        const colors = ['#FF7A00', '#005B96', '#FF4757', '#2ed573', '#ffa502'];
        for (let i = 0; i < 100; i++) { // B·∫Øn 100 m·∫£nh
            confettiParticles.push({
                x: Math.random() * confettiCanvas.width, // V·ªã tr√≠ ng·∫´u nhi√™n ngang
                y: Math.random() * confettiCanvas.height - confettiCanvas.height, // B·∫Øt ƒë·∫ßu t·ª´ tr√™n cao
                color: colors[Math.floor(Math.random() * colors.length)],
                size: Math.random() * 5 + 5,
                speedY: Math.random() * 3 + 2, // T·ªëc ƒë·ªô r∆°i
                speedX: Math.random() * 2 - 1, // Gi√≥ th·ªïi ngang
                rotation: Math.random() * 360
            });
        }
    }

    function drawConfetti() {
        ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
        
        confettiParticles.forEach((p, index) => {
            ctx.fillStyle = p.color;
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
            ctx.fill();
            
            // C·∫≠p nh·∫≠t v·ªã tr√≠
            p.y += p.speedY;
            p.x += p.speedX;
            p.rotation += 2;

            // X√≥a n·∫øu r∆°i kh·ªèi m√†n h√¨nh
            if (p.y > confettiCanvas.height) {
                confettiParticles.splice(index, 1);
            }
        });

        if (confettiParticles.length > 0) {
            requestAnimationFrame(drawConfetti);
        }
    }

    function fireConfetti() {
        createConfetti();
        drawConfetti();
    }

    // 2. Logic N√∫t Th·∫£ Tim
    function triggerLike() {
        // Hi·ªáu ·ª©ng ph√°o gi·∫•y
        fireConfetti();
        
        // Hi·ªáu ·ª©ng Toast
        showToast('C·∫£m ∆°n b·∫°n ƒë√£ th·∫£ tim! ‚ù§Ô∏è', 'success');
        
        // C·∫≠p nh·∫≠t s·ªë like ·∫£o (L∆∞u v√†o LocalStorage ƒë·ªÉ nh·ªõ)
        let currentLikes = localStorage.getItem('siteLikes') || 128; // Gi·∫£ l·∫≠p b·∫Øt ƒë·∫ßu t·ª´ 128 like
        currentLikes = parseInt(currentLikes) + 1;
        localStorage.setItem('siteLikes', currentLikes);
        
        // C·∫≠p nh·∫≠t giao di·ªán
        document.getElementById('like-count').innerText = `${currentLikes} ng∆∞·ªùi ƒë√£ th√≠ch`;
        
        // Rung n√∫t
        const btn = document.getElementById('btn-global-like');
        btn.style.transform = 'scale(1.2)';
        setTimeout(() => btn.style.transform = 'scale(1)', 200);
    }

    // Load s·ªë like khi v√†o trang
    window.addEventListener('DOMContentLoaded', () => {
        let savedLikes = localStorage.getItem('siteLikes') || 128;
        document.getElementById('like-count').innerText = `${savedLikes} ng∆∞·ªùi ƒë√£ th√≠ch`;
    });

    // 3. K·∫æT N·ªêI V·ªöI N√öT G·ª¨I GUESTBOOK (ƒê·ªÉ g·ª≠i tin nh·∫Øn c≈©ng c√≥ ph√°o hoa)
    const btnGuestbook = document.getElementById('btn-send-msg');
    if(btnGuestbook) {
        // Ghi ƒë√® s·ª± ki·ªán click c≈© ho·∫∑c th√™m m·ªõi
        btnGuestbook.addEventListener('click', function() {
            const name = document.getElementById('guest-name').value;
            const msg = document.getElementById('guest-msg').value;
            
            if(name && msg) {
                // T·∫°o tin nh·∫Øn gi·∫£ l·∫≠p ngay l·∫≠p t·ª©c
                const wall = document.getElementById('message-wall');
                const newMsg = document.createElement('div');
                newMsg.innerHTML = `<div>${name} <span style="font-size:0.7rem; color:#999; font-weight:normal;">(V·ª´a xong)</span></div><div>${msg}</div>`;
                wall.prepend(newMsg); // Th√™m l√™n ƒë·∫ßu
                
                // Hi·ªáu ·ª©ng
                fireConfetti();
                showToast('ƒê√£ g·ª≠i tin nh·∫Øn th√†nh c√¥ng!', 'success');
                
                // X√≥a √¥ nh·∫≠p
                document.getElementById('guest-msg').value = '';
            } else {
                showToast('Vui l√≤ng nh·∫≠p t√™n v√† n·ªôi dung!', 'info');
            }
        });
    }
    /* =========================================
       SCRIPT ƒê·ª¢T 1: STATUS & FOOTER LOGIC
       ========================================= */

    // 1. Logic Smart Copy Email
    function copyEmailToClipboard() {
        const emailText = document.getElementById('pf-email-display').innerText;
        navigator.clipboard.writeText(emailText).then(() => {
            showToast('ƒê√£ sao ch√©p email v√†o b·ªô nh·ªõ!', 'success');
        }).catch(err => {
            showToast('L·ªói sao ch√©p: ' + err, 'info');
        });
    }

    /* --- LOGIC TR·∫†NG TH√ÅI L√ÄM VI·ªÜC (ƒê√É S·ª¨A L·∫†I) --- */
    function updateWorkingStatus() {
        const badge = document.getElementById('working-status');
        const text = document.getElementById('working-text');
        
        // 1. ∆Øu ti√™n ki·ªÉm tra Ch·∫ø ƒë·ªô √în thi tr∆∞·ªõc
        const isExamMode = localStorage.getItem('examMode') === 'true';
        
        if (isExamMode) {
            badge.classList.remove('online', 'offline');
            // Style v√†ng cho ch·∫ø ƒë·ªô thi (n·∫øu CSS h·ªó tr·ª£, kh√¥ng th√¨ m·∫∑c ƒë·ªãnh)
            badge.style.borderColor = '#d32f2f'; 
            text.innerText = "ƒêang √¥n thi s·∫•p m·∫∑t ü§Ø (DND)";
            return; // D·ª´ng lu√¥n, kh√¥ng check gi·ªù n·ªØa
        } else {
            // Reset style vi·ªÅn n·∫øu t·∫Øt ch·∫ø ƒë·ªô thi
            badge.style.borderColor = ''; 
        }

        // 2. N·∫øu kh√¥ng √¥n thi -> Check gi·ªù (06:30 s√°ng -> 02:30 s√°ng h√¥m sau)
        const now = new Date();
        const hours = now.getHours();
        const minutes = now.getMinutes();
        const currentTime = hours + (minutes / 60); // Quy ƒë·ªïi ra s·ªë th·∫≠p ph√¢n

        // Logic: L·ªõn h∆°n 6.5 (6h30) HO·∫∂C Nh·ªè h∆°n 2.5 (2h30 s√°ng)
        // V√≠ d·ª•: 23h (11h ƒë√™m) -> Th·ªèa m√£n
        // V√≠ d·ª•: 1h s√°ng -> Th·ªèa m√£n (< 2.5)
        // V√≠ d·ª•: 4h s√°ng -> Kh√¥ng th·ªèa m√£n
        const isWorking = (currentTime >= 6.5) || (currentTime < 2.5);

        if (isWorking) {
            badge.classList.add('online');
            badge.classList.remove('offline');
            
            // Random c√¢u tho·∫°i cho ƒë·ª° ch√°n
            const quotes = [
                "ƒêang h·ªçc h√†nh chƒÉm ch·ªâüî•",
                "ƒêang vui v·∫ª tr·∫£ l·ªùi ngay üíª",
                "B·∫°n c·∫ßn m√¨nh h·ªó tr·ª£ g√¨ ·∫°? üöÄ",
                "C·∫ßn m√¨nh gi√∫p g√¨ kh√¥ng? ‚ú®"
            ];
            text.innerText = quotes[Math.floor(Math.random() * quotes.length)];
        } else {
            badge.classList.add('offline');
            badge.classList.remove('online');
            text.innerText = "Gi·ªù n√†y Minh ƒëang ng·ªß üí§ (Quay l·∫°i sau 06:30 nh√©)";
        }
    }

    // Ch·∫°y ngay l·∫≠p t·ª©c
    updateWorkingStatus();
    // C·∫≠p nh·∫≠t m·ªói ph√∫t 1 l·∫ßn
    setInterval(updateWorkingStatus, 60000);

    // 3. Logic Visitor Count (B·ªô ƒë·∫øm gi·∫£ l·∫≠p c√≥ tƒÉng nh·∫π)
    function initVisitorCount() {
        // L·∫•y s·ªë c≈© ho·∫∑c kh·ªüi t·∫°o s·ªë ng·∫´u nhi√™n t·ª´ 5000-9000
        let count = localStorage.getItem('visitorCount');
        if (!count) {
            count = Math.floor(Math.random() * (9000 - 5000 + 1) + 5000);
        } else {
            // M·ªói l·∫ßn F5 c√≥ 30% c∆° h·ªôi tƒÉng th√™m 1 ng∆∞·ªùi (nh√¨n cho th·∫≠t)
            if(Math.random() > 0.7) count = parseInt(count) + 1;
        }
        
        localStorage.setItem('visitorCount', count);
        // Format s·ªë c√≥ d·∫•u ph·∫©y (VD: 5,432)
        document.getElementById('visitor-count').innerText = parseInt(count).toLocaleString();
    }
    initVisitorCount();
    /* =========================================
       SCRIPT ƒê·ª¢T 2: UX ENHANCEMENTS
       ========================================= */

    // 1. Logic Custom Context Menu
    const ctxMenu = document.getElementById('ctx-menu');
    
    // NgƒÉn menu m·∫∑c ƒë·ªãnh v√† hi·ªán menu c·ªßa m√¨nh
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
        const x = e.clientX;
        const y = e.clientY;
        
        // ƒêi·ªÅu ch·ªânh n·∫øu menu b·ªã tr√†n m√†n h√¨nh
        const menuWidth = 200;
        const menuHeight = 250;
        const posX = x + menuWidth > window.innerWidth ? x - menuWidth : x;
        const posY = y + menuHeight > window.innerHeight ? y - menuHeight : y;

        ctxMenu.style.top = `${posY}px`;
        ctxMenu.style.left = `${posX}px`;
        ctxMenu.style.display = 'flex';
    });

    // ƒê√≥ng menu khi click b·∫•t k·ª≥ ƒë√¢u
    document.addEventListener('click', () => ctxMenu.style.display = 'none');
    document.addEventListener('scroll', () => ctxMenu.style.display = 'none');

    // 2. Logic Remember Scroll Position (L∆∞u v·ªã tr√≠ cu·ªôn)
    // Khi ng∆∞·ªùi d√πng cu·ªôn, l∆∞u v·ªã tr√≠ v√†o LocalStorage
    // (D√πng debounce ƒë·ªÉ kh√¥ng l∆∞u li√™n t·ª•c g√¢y lag)
    let isScrolling;
    window.addEventListener('scroll', () => {
        window.clearTimeout(isScrolling);
        isScrolling = setTimeout(() => {
            localStorage.setItem('scrollPos', window.scrollY);
        }, 100);

        // Logic Sticky Header Effect
        const tabs = document.querySelector('.pf-tabs');
        if (window.scrollY > 100) {
            tabs.classList.add('scrolled');
        } else {
            tabs.classList.remove('scrolled');
        }
    });

    // Khi t·∫£i trang, kh√¥i ph·ª•c v·ªã tr√≠ c≈©
    window.addEventListener('load', () => {
        const scrollPos = localStorage.getItem('scrollPos');
        if (scrollPos) {
            // Cu·ªôn t·ª´ t·ª´ t·ªõi v·ªã tr√≠ c≈©
            setTimeout(() => window.scrollTo(0, parseInt(scrollPos)), 100);
        }
    });
    /* =========================================
       SCRIPT ƒê·ª¢T 3: FORM & GLITCH LOGIC
       ========================================= */

    // 1. Logic Greeting (Ch√†o h·ªèi & Nh·ªõ t√™n)
    function initGreeting() {
        const nameEl = document.getElementById('pf-name');
        const savedName = localStorage.getItem('visitorName');
        
        if (savedName) {
            nameEl.innerText = `Ch√†o ${savedName}!`;
        } else {
            nameEl.innerText = "Ch√†o b·∫°n! (B·∫•m ƒë·ªÉ s·ª≠a)";
        }

        // L∆∞u t√™n khi ng∆∞·ªùi d√πng s·ª≠a xong (Blur ra ngo√†i)
        nameEl.addEventListener('blur', function() {
            const newName = this.innerText.replace('Ch√†o ', '').replace('!', '');
            if(newName.length > 0 && newName !== "b·∫°n") {
                localStorage.setItem('visitorName', newName);
                showToast(`ƒê√£ l∆∞u t√™n: ${newName}`, 'success');
            }
        });
        
        // X√≥a text m·∫∑c ƒë·ªãnh khi click v√†o ƒë·ªÉ s·ª≠a cho d·ªÖ
        nameEl.addEventListener('click', function() {
            if(this.innerText.includes('Ch√†o b·∫°n')) this.innerText = '';
        });
    }
    initGreeting();

    // 2. Logic Form Validation & Auto-Reply (√Åp d·ª•ng cho Modal ƒê·∫∑t h·∫πn)
    const btnApptSubmit = document.getElementById('btn-submit-appt');
    if(btnApptSubmit) {
        btnApptSubmit.onclick = function() {
            const name = document.getElementById('appt-name');
            const email = document.getElementById('appt-email');
            const date = document.getElementById('appt-date');
            let isValid = true;

            // X√≥a l·ªói c≈©
            [name, email, date].forEach(el => el.classList.remove('input-error'));

            // Validate T√™n
            if(!name.value.trim()) {
                name.classList.add('input-error');
                isValid = false;
            }
            // Validate Email (Regex ƒë∆°n gi·∫£n)
            if(!email.value.includes('@') || !email.value.includes('.')) {
                email.classList.add('input-error');
                isValid = false;
            }
            // Validate Ng√†y
            if(!date.value) {
                date.classList.add('input-error');
                isValid = false;
            }

            if(isValid) {
                // Gi·∫£ l·∫≠p g·ª≠i th√†nh c√¥ng
                btnApptSubmit.innerText = "ƒêang g·ª≠i...";
                btnApptSubmit.disabled = true;

                setTimeout(() => {
                    closeApptModal();
                    // B·∫Øn ph√°o hoa ƒÉn m·ª´ng
                    fireConfetti(); 
                    // Hi·ªán th√¥ng b√°o
                    showToast('ƒê√£ g·ª≠i y√™u c·∫ßu h·∫πn! Check mail nh√©.', 'success');
                    
                    // Reset form
                    name.value = ''; email.value = '';
                    btnApptSubmit.innerText = "G·ª≠i y√™u c·∫ßu";
                    btnApptSubmit.disabled = false;
                }, 1500);
            } else {
                showToast('Vui l√≤ng ki·ªÉm tra l·∫°i th√¥ng tin ƒë·ªè!', 'info');
            }
        };
    }

    // 3. Logic Glitch 404 (K·∫øt n·ªëi v·ªõi h√†m Search c≈©)
    // C·∫ßn ghi ƒë√® l·∫°i h√†m handleSearch c≈© ·ªü G√≥i B ƒë·ªÉ th√™m logic Glitch
    const oldHandleSearch = window.handleSearch; // L∆∞u h√†m c≈© (n·∫øu mu·ªën) ho·∫∑c vi·∫øt l·∫°i nh∆∞ d∆∞·ªõi
    
    window.handleSearch = function() {
        const keyword = document.getElementById('project-search').value.toLowerCase();
        const projects = document.querySelectorAll('.pf-card.project-style');
        let hasResult = false;
        
        projects.forEach(card => {
            const title = card.querySelector('h3').innerText.toLowerCase();
            const desc = card.querySelector('p').innerText.toLowerCase();
            
            if (title.includes(keyword) || desc.includes(keyword)) {
                card.style.display = 'flex';
                hasResult = true;
            } else {
                card.style.display = 'none';
            }
        });

        // ·∫®n/Hi·ªán Glitch
        const glitchBox = document.getElementById('no-result-glitch');
        const grid = document.getElementById('pf-projects');
        
        if (!hasResult) {
            grid.style.display = 'none';
            glitchBox.style.display = 'block';
        } else {
            grid.style.display = 'grid';
            glitchBox.style.display = 'none';
        }
    }

    // H√†m Reset Search cho n√∫t "Th·ª≠ l·∫°i"
    window.resetSearch = function() {
        document.getElementById('project-search').value = '';
        window.handleSearch(); // G·ªçi l·∫°i ƒë·ªÉ hi·ªán h·∫øt
    }
    function updateWorkingStatus() {
        const badge = document.getElementById('working-status');
        const text = document.getElementById('working-text');
        
        // Logic gi·ªù gi·∫•c: 06:30 s√°ng -> 02:30 s√°ng h√¥m sau
        const now = new Date();
        const t = now.getHours() + now.getMinutes() / 60;
        
        // Gi·∫£i th√≠ch logic:
        // t >= 6.5 nghƒ©a l√† t·ª´ 06:30 tr·ªü ƒëi
        // t < 2.5 nghƒ©a l√† t·ª´ 00:00 ƒë·∫øn 02:30 s√°ng
        const isWorking = (t >= 6.5) || (t < 2.5);

        if (isWorking) {
            badge.classList.add('online'); badge.classList.remove('offline');
            // N·∫øu ƒëang √¥n thi th√¨ hi·ªán √¥n thi, kh√¥ng th√¨ hi·ªán gi·ªù l√†m
            if(localStorage.getItem('examMode') !== 'true') {
                text.innerText = "B·∫°n c·∫ßn m√¨nh h·ªó tr·ª£ g√¨?, li√™n l·∫°c v·ªõi m√¨nh nh√©";
            }
        } else {
            badge.classList.add('offline'); badge.classList.remove('online');
            text.innerText = "Gi·ªù n√†y Minh ƒëang ng·ªß üí§";
        }
    }
    // G·ªçi h√†m n√†y ngay khi web ch·∫°y
    updateWorkingStatus();
    /* --- LOGIC MOBILE APP NAVIGATION --- */
    function switchTabMobile(tabId, element) {
        // 1. Chuy·ªÉn n·ªôi dung (D√πng l·∫°i logic c≈©)
        switchTab(tabId); 
        
        // 2. Active icon ·ªü menu d∆∞·ªõi
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        element.classList.add('active');

        // 3. Cu·ªôn l√™n ƒë·∫ßu ph·∫ßn n·ªôi dung (Tr·ª´ Hero ra cho ƒë·∫πp)
        const contentTop = document.querySelector('.pf-tabs').offsetTop || 400;
        window.scrollTo({top: contentTop - 60, behavior: 'smooth'});
    }
    </script>
    <!-- Canvas cho hi·ªáu ·ª©ng ph√°o gi·∫•y -->
</body>
</html>
